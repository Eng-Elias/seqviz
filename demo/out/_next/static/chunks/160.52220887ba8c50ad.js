(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{7160:function(t,a,c){"use strict";c.r(a),c.d(a,{ViewerTypeInput:function(){return H},default:function(){return L}});var e=c(1438),n=c(4924),r=c(8029),g=c(6042),o=c(9396),i=c(9534),s=c(460),l=c(5893),u=c(6486),f=c(5675),h=c.n(f),d=c(7294),p=c(1651),m=c(3272),v=c(5712),y=c(345),b=c(5150),C=c(5967),N=c(416),w=c(8005),x=c(967),A=c(8543),G=c(3349),_=c(4111),q=c(2951),S=c(3589),I=c(5142),T=(0,c(3660).lX)(),k=function(){if(T.location.search){var t=new URLSearchParams(T.location.search);return{backbone:t.get("backbone"),biobrick:t.get("biobrick")}}return{backbone:"",biobrick:""}},E=function(t){var a="backbone"in t?t.backbone:k().backbone,c="biobrick"in t?t.biobrick:k().biobrick,e="?backbone=".concat(a,"&biobrick=").concat(c);T.push(e)},O=[{key:"psb1c3",value:"pSB1C3",text:"pSB1C3"},{key:"psb1a3",value:"pSB1A3",text:"pSB1A3"},{key:"psb1ac3",value:"pSB1AC3",text:"pSB1AC3"},{key:"psb1ak3",value:"pSB1AK3",text:"pSB1AK3"},{key:"psb1at3",value:"pSB1AT3",text:"pSB1AT3"},{key:"psb1k3",value:"pSB1K3",text:"pSB1K3"},{key:"psb1t3",value:"pSB1T3",text:"pSB1T3"},{key:"psb1a7",value:"pSB1A7",text:"pSB1A7"},{key:"bba_k1362091",value:"BBa_K1362091",text:"BBa_K1362091"},{key:"bba_k823055",value:"BBa_K823055",text:"BBa_K823055"}],B=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),t=a.apply(this,arguments),(0,n.Z)((0,_.Z)(t),"state",{active:!1}),(0,n.Z)((0,_.Z)(t),"handleMetaClick",(function(){return t.setState((function(t){return{active:!t.active}}))})),t}return(0,q.Z)(c,[{key:"render",value:function(){var t=this.props,a=t.setDemoState,c=t.part,e=t.toggleSidebar;return this.state.active&&document.getElementById("la-vz-seqblock-container")?document.getElementById("la-vz-seqblock-container").style.marginBottom="32px":document.getElementById("la-vz-seqblock-container")&&(document.getElementById("la-vz-seqblock-container").style.marginBottom="0"),(0,l.jsxs)("div",{className:"header",id:"app-header",children:[(0,l.jsxs)("div",{id:"header-primary",children:[(0,l.jsx)(S.Z,{trigger:(0,l.jsx)(x.Z,{id:"sidebar-toggle-open",className:"circular-button",circular:!0,icon:"bars",onClick:e}),className:"popup-tooltip",inverted:!0,content:"Options",position:"bottom left"}),(0,l.jsx)(j,{setDemoState:a}),(0,l.jsx)(P,{setDemoState:a,part:c}),(0,l.jsx)(R,(0,o.Z)((0,g.Z)({},this.props),{active:this.state.active,handleMetaClick:this.handleMetaClick})),(0,l.jsx)("a",{id:"github-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Lattice-Automation/seqviz",children:(0,l.jsx)(b.Z,{name:"github",size:"large"})}),(0,l.jsx)(h(),{id:"brand",src:"/seqviz-logo.png",floated:"right",height:48,width:48,onClick:function(){""!==T.location.search&&E({backbone:"pSB1C3",biobrick:""})}})]}),this.state.active&&c&&(0,l.jsx)("div",{id:"header-meta",children:(0,l.jsx)(M,(0,g.Z)({},this.props))})]})}}]),c}(d.Component),R=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return(0,q.Z)(c,[{key:"render",value:function(){var t=this.props,a=t.active,c=t.handleMetaClick,e=t.part;return(0,l.jsx)("div",{className:"meta-toggle",children:(0,l.jsx)(x.Z,{id:"meta-button",toggle:!0,active:a,disabled:!e,onClick:c,children:a?"HIDE META":"SHOW META"})})}}]),c}(d.Component),M=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return(0,q.Z)(c,[{key:"render",value:function(){var t=this.props.selection,a=t.feature,c=t.start,e=t.end,n=t.length,r=t.gc,g=t.tm,o=c===e;return t&&(0,l.jsxs)("div",{className:"selection-meta",children:[o&&(0,l.jsx)("div",{className:"meta-datum",id:"no-selection",children:(0,l.jsx)("p",{children:"Make a selection on the circular or linear map."})}),a&&(0,l.jsxs)("div",{className:"meta-datum",id:"feature-name",children:[(0,l.jsx)("p",{id:"field",children:"FEATURE"}),(0,l.jsx)("p",{id:"value",children:a?a.name:""})]}),a&&a.type&&(0,l.jsxs)("div",{className:"meta-datum",id:"feature-type",children:[(0,l.jsx)("p",{id:"field",children:"TYPE"}),(0,l.jsx)("p",{id:"value",children:a.type})]}),0!==n&&(0,l.jsxs)("div",{className:"meta-datum",children:[(0,l.jsx)("p",{id:"field",children:"LENGTH"}),(0,l.jsxs)("p",{id:"value",children:[n,"bp"]})]}),c!==e&&(0,l.jsxs)("div",{className:"meta-datum",children:[(0,l.jsx)("p",{id:"field",children:"RANGE"}),(0,l.jsxs)("p",{id:"value",children:[c," - ",e]})]}),0!==r&&(0,l.jsxs)("div",{className:"meta-datum",children:[(0,l.jsx)("p",{id:"field",children:"GC"}),(0,l.jsxs)("p",{id:"value",children:[r,"%"]})]}),0!==g&&(0,l.jsxs)("div",{className:"meta-datum",children:[(0,l.jsx)("p",{id:"field",children:"TM"}),(0,l.jsxs)("p",{id:"value",children:[g,"\xb0C"]})]})]})}}]),c}(d.Component),j=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),t=a.apply(this,arguments),(0,n.Z)((0,_.Z)(t),"state",{focus:!1,hover:!1}),t}return(0,q.Z)(c,[{key:"render",value:function(){var t=this;return(0,l.jsxs)("div",{className:"backbone-picker",children:[(0,l.jsx)(I.Z,{className:"input-label ".concat(this.state.hover?"hover":""),onClick:function(){return document.getElementById("backbone-dropdown").click()},onMouseDown:function(t){return t.preventDefault()},children:"BACKBONE"}),(0,l.jsx)(C.Z,{id:"backbone-dropdown",placeholder:k().backbone,floating:!0,fluid:!0,options:O,onChange:function(t,a){E({backbone:a.value})},onFocus:function(){return t.setState({focus:!0})},onMouseOver:function(){return t.setState({hover:!0})},onBlur:function(){return t.setState({focus:!1})},onMouseLeave:function(){return t.setState({hover:!1})}})]})}}]),c}(d.Component),P=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),t=a.apply(this,arguments),(0,n.Z)((0,_.Z)(t),"state",{focus:!1,hover:!1}),t}return(0,q.Z)(c,[{key:"render",value:function(){var t=this,a=this.props.part;return(0,l.jsx)(N.Z,{icon:"search",autoComplete:"off",className:"part-input",id:"part-input",label:(0,l.jsx)(I.Z,{className:"input-label ".concat(this.state.hover?"hover":""),onClick:function(){return document.getElementById("part-input").focus()},onMouseDown:function(t){return t.preventDefault()},children:"BioBrick"}),labelPosition:"left",name:"accession",value:a,placeholder:"Search iGEM...",onChange:function(t,a){E({biobrick:a.value})},onFocus:function(){return t.setState({focus:!0})},onMouseOver:function(){return t.setState({hover:!0})},onBlur:function(){return t.setState({focus:!1})},onMouseLeave:function(){return t.setState({hover:!1})}})}}]),c}(d.Component),z=[{key:"both",value:"both",text:"Both"},{key:"circular",value:"circular",text:"Circular"},{key:"linear",value:"linear",text:"Linear"}],L=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(t){var n;return(0,e.Z)(this,c),(n=a.call(this,t)).state={part:k().biobrick,backbone:k().backbone,viewType:"",annotations:!0,primers:!0,showComplement:!0,index:!0,query:"",enzymes:[],lzoom:50,selection:{},searchResults:{}},n.setDemoState=function(t){var a=Object.keys(t).reduce((function(a,c){return"Object"===t[c].constructor?a[c]=(0,g.Z)({},n.state[c],t[c]):a[c]=t[c],a}),{});n.setState((0,g.Z)({},n.state,a))},T.listen((function(){var t=k(),a=t.backbone,c=t.biobrick;a===n.state.backbone&&c===n.state.biobrick||n.setState({backbone:a,part:c})})),n}return c.prototype.render=function(){return(0,l.jsx)(D,(0,o.Z)((0,g.Z)({},this.state),{setDemoState:this.setDemoState}))},c}(d.Component),D=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),(t=a.apply(this,arguments)).state={visible:!1},t.toggleSidebar=function(){var a=t.state.visible;t.setState({visible:!a})},t.handleHide=function(){t.setState({visible:!1})},t}return c.prototype.render=function(){var t=this.props,a=t.setDemoState,c=t.part,e=t.enzymes,n=this.state.visible;return(0,l.jsx)("div",{style:{height:"100vh"},children:(0,l.jsxs)(p.Z.Pushable,{className:"sidebar-container",children:[(0,l.jsxs)(p.Z,{stylename:"sidebar-container",id:"options-sidebar",as:m.Z,animation:"overlay",vertical:!0,onHide:this.handleHide,visible:n,children:[(0,l.jsx)(Y,{toggleSidebar:this.toggleSidebar}),(0,l.jsx)(m.Z.Item,{as:"a",children:(0,l.jsx)(H,{setDemoState:a})}),(0,l.jsx)(m.Z.Item,{as:"a",children:(0,l.jsx)(W,{setDemoState:a})}),(0,l.jsx)(m.Z.Item,{as:"a",children:(0,l.jsx)(F,{setDemoState:a,searchResults:this.props.searchResults})}),(0,l.jsx)(m.Z.Item,{as:"a",className:"options-checkbox",children:(0,l.jsx)(X,{setDemoState:a,name:"showComplement",label:"Show complement"})}),(0,l.jsx)(m.Z.Item,{as:"a",className:"options-checkbox",children:(0,l.jsx)(X,{setDemoState:a,name:"index",label:"Show axis"})}),(0,l.jsx)(m.Z.Item,{as:"a",children:(0,l.jsx)(Z,{setDemoState:a,enzymes:e})}),(0,l.jsx)(V,{})]}),(0,l.jsx)(p.Z.Pusher,{as:v.Z,fluid:!0,dimmed:n,children:(0,l.jsxs)("div",{id:"seqviz-container",children:[(0,l.jsx)(B,(0,o.Z)((0,g.Z)({},this.props),{toggleSidebar:this.toggleSidebar})),c?(0,l.jsx)("div",{id:"seqviewer",children:(0,l.jsx)(U,(0,g.Z)({},this.props))}):(0,l.jsxs)("div",{id:"landing-zone",children:[(0,l.jsx)("div",{id:"getting-started-card",className:"card",children:(0,l.jsx)(h(),{id:"seqviz-brand-getting-started",src:"/seqviz-brand-small.png",width:500,height:170})}),(0,l.jsxs)("div",{id:"landing-card",className:"card",children:[(0,l.jsxs)("div",{id:"starting-instructions",children:["Type a ",(0,l.jsx)("strong",{children:"BioBrick ID"})," from ",(0,l.jsx)("br",{}),"iGEM's"," ",(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://parts.igem.org/Main_Page",children:"Registry of Standard Biological Parts"})," ",(0,l.jsx)("br",{}),"into the search above to get started"]}),(0,l.jsx)(y.Z,{horizontal:!0,children:"Or"}),(0,l.jsx)(K,{setDemoState:a})]}),(0,l.jsxs)("div",{id:"lattice-card",className:"card",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("p",{children:["Created by"," ",(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://latticeautomation.com/",children:"Lattice Automation"})]})})," ",(0,l.jsxs)("div",{children:[(0,l.jsx)(b.Z,{name:"github"}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Lattice-Automation/seqviz",children:"seqviz"})})]})]})]})]})})]})})},c}(d.Component),H=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return c.prototype.render=function(){var t=this.props.setDemoState;return(0,l.jsxs)("div",{className:"option",id:"topology",children:[(0,l.jsx)("span",{children:"Topology"}),(0,l.jsx)(C.Z,{defaultValue:"both",fluid:!0,selection:!0,options:z,onChange:function(a,c){t({viewType:c.value})}})]})},c}(d.Component),W=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return c.prototype.render=function(){var t=this.props.setDemoState;return(0,l.jsxs)("div",{className:"option",id:"zoom",children:[(0,l.jsx)("span",{children:"Zoom"}),(0,l.jsx)("input",{type:"range",min:"1",max:"100",defaultValue:"50",onChange:function(a){t({lzoom:a.target.value})},className:"slider",id:"lzoom"})]})},c}(d.Component),F=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return c.prototype.render=function(){var t=this.props,a=t.setDemoState,c=t.searchResults.searchResults,e=void 0===c?[]:c;return(0,l.jsxs)("div",{className:"option",id:"options-search",children:[(0,l.jsx)("span",{children:"".concat(e.length," results")}),(0,l.jsx)(N.Z,{icon:"search",placeholder:"Search...",onChange:function(t,c){a({query:c.value})}})]})},c}(d.Component),Z=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),(t=a.apply(this,arguments)).state={PstI:!1,EcoRI:!1,XbaI:!1,SpeI:!1},t.handleChange=function(a){var c=t.props,e=c.setDemoState,r=c.enzymes,g=[];r.includes(a)?(g=r.filter((function(t){return t!==a})),t.setState((0,n.Z)({},a,!1))):(g=r.concat([a]),t.setState((0,n.Z)({},a,!0))),e({enzymes:g})},t}return c.prototype.render=function(){var t=this;return(0,l.jsxs)("div",{className:"option",id:"enzymes",children:[(0,l.jsx)("span",{children:"Enzymes"}),(0,l.jsxs)(w.Z,{id:"enzyme-grid",columns:2,children:[(0,l.jsxs)(w.Z.Row,{className:"enzyme-grid-row",children:[(0,l.jsx)(w.Z.Column,{className:"enzyme-grid-column",children:(0,l.jsx)(x.Z,{fluid:!0,className:"enzyme-button",active:this.state.PstI,color:this.state.PstI?"blue":null,onClick:function(){return t.handleChange("PstI")},children:"PstI"})}),(0,l.jsx)(w.Z.Column,{className:"enzyme-grid-column",children:(0,l.jsx)(x.Z,{fluid:!0,className:"enzyme-button",active:this.state.EcoRI,color:this.state.EcoRI?"blue":null,onClick:function(){return t.handleChange("EcoRI")},children:"EcoRI"})})]}),(0,l.jsxs)(w.Z.Row,{className:"enzyme-grid-row",children:[(0,l.jsx)(w.Z.Column,{className:"enzyme-grid-column",children:(0,l.jsx)(x.Z,{fluid:!0,className:"enzyme-button",active:this.state.XbaI,color:this.state.XbaI?"blue":null,onClick:function(){return t.handleChange("XbaI")},children:"XbaI"})}),(0,l.jsx)(w.Z.Column,{className:"enzyme-grid-column",children:(0,l.jsx)(x.Z,{fluid:!0,className:"enzyme-button",active:this.state.SpeI,color:this.state.SpeI?"blue":null,onClick:function(){return t.handleChange("SpeI")},children:"SpeI"})})]})]})]})},c}(d.Component),X=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return c.prototype.render=function(){var t=this.props,a=t.name,c=t.label,e=t.setDemoState;return(0,l.jsx)(A.Z,{toggle:!0,defaultChecked:!0,name:a,label:c,onChange:function(t,c){e((0,n.Z)({},a,c.checked))}})},c}(d.Component),U=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){var t;return(0,e.Z)(this,c),(t=a.apply(this,arguments)).shouldComponentUpdate=function(a){var c=t.props,e=(c.searchResults,c.selection,(0,i.Z)(c,["searchResults","selection"])),n=(a.searchResults,a.selection,(0,i.Z)(a,["searchResults","selection"]));return!(0,u.isEqual)(e,n)},t}return c.prototype.render=function(){var t=this.props,a=t.part,c=void 0===a?"":a,e=t.backbone,n=void 0===e?"":e,r=t.viewType,g=void 0===r?"both":r,o=t.annotations,i=void 0===o||o,s=t.showComplement,u=void 0===s||s,f=t.index,h=void 0===f||f,d=t.query,p=void 0===d?"":d,m=t.enzymes,v=void 0===m?[]:m,y=t.lzoom,b=void 0===y?50:y,C=t.setDemoState,N=g||"both";return(0,l.jsx)(G.SeqViz,{accession:c,backbone:n,viewer:N,showAnnotations:i,showComplement:u,showIndex:h,onSelection:function(t){C({selection:t})},onSearch:function(t){C({searchResults:t})},search:{query:p},enzymes:v,zoom:{linear:b}})},c}(d.Component),Y=function(t){(0,r.Z)(c,t);var a=(0,s.Z)(c);function c(){return(0,e.Z)(this,c),a.apply(this,arguments)}return c.prototype.render=function(){var t=this.props.toggleSidebar;return(0,l.jsxs)("div",{className:"sidebar-header",children:[(0,l.jsxs)("div",{id:"header-left",children:[(0,l.jsx)(h(),{id:"seqviz-graphic",src:"/seqviz-logo.png",height:48,width:48}),(0,l.jsx)("h3",{children:"Settings"})]}),(0,l.jsx)(x.Z,{onClick:t,id:"sidebar-toggle-close",className:"circular-button",circular:!0,floated:"right",icon:"angle left"})]})},c}(d.Component),V=function(){return(0,l.jsxs)("div",{className:"sidebar-footer",children:[(0,l.jsx)(y.Z,{clearing:!0}),(0,l.jsx)(h(),{id:"lattice-brand",src:"/lattice-brand.png",height:60,width:150}),(0,l.jsxs)("p",{children:["Created by"," ",(0,l.jsx)("span",{children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://latticeautomation.com/",children:"Lattice Automation"})})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)(b.Z,{name:"github"}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Lattice-Automation/seqviz",children:"seqviz"})}),(0,l.jsx)("span",{children:"  |  "}),(0,l.jsx)(b.Z,{name:"medium"}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://medium.com/@lattice.core/visualize-your-dna-sequences-with-seqviz-b1d945eb9684",children:"Story"})}),(0,l.jsx)("span",{children:"  |  "}),(0,l.jsx)(b.Z,{name:"edit outline"}),(0,l.jsx)("span",{children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/forms/d/1ILD3UwPvdkQlM06En7Pl9VqVpN_-g5iWs-B6gjKh9b0/viewform?edit_requested=true",children:"Survey"})})]}),(0,l.jsx)("p",{children:(0,l.jsx)("span",{children:"contact@latticeautomation.com"})})]})},K=function(){return(0,l.jsxs)("div",{id:"easy-start",children:[(0,l.jsx)(x.Z,{id:"default-part-button",onClick:function(){E({backbone:"pSB1C3",biobrick:"BBa_K1598008"})},children:"CLICK"}),(0,l.jsxs)("span",{children:["to load default part (",(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://parts.igem.org/Part:BBa_K1598008",children:"BBa_K1598008"}),")"]})]})}},3349:function(t,a,c){var e,n=c(3454),r=c(816).Buffer;e=()=>(()=>{var t=[function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewer=a.Enzymes=a.SeqViz=void 0;var n=c(1),r=c(2),g=c(3),o=c(4);a.SeqViz=o.default;var i=c(28);a.Enzymes=i.default,a.Viewer=function(t,a){void 0===t&&(t="root");var c,i=!1;if(document){if("string"===typeof t){if(!document.getElementById(t))throw new Error("Failed to find an element with ID: ".concat(t));c=document.getElementById(t)}else c=t;var s=n.createElement(o.default,a,null);return{render:function(){return i=!0,r.render(s,c),s},renderToString:function(){return g.renderToString(s)},setState:function(t){return a=e(e({},a),t),s=n.createElement(o.default,a,null),i&&r.render(s,c),s}}}}},t=>{"use strict";t.exports=c(7294)},t=>{"use strict";t.exports=c(3935)},t=>{"use strict";t.exports=c(7762)},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)},r=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},g=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var o=c(1),i=c(5),s=c(6),l=c(27),u=c(30),f=c(10),h=c(12),d=c(29),p=c(15),m=c(31);c(59);var v=c(39),y=c(40),b=function(t){function a(a){var c=t.call(this,a)||this;return c.componentDidMount=function(){return r(c,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.setPart()];case 1:return t.sent(),[2]}}))}))},c.componentDidUpdate=function(t,a){var e=t.accession,n=void 0===e?"":e,o=t.annotations,i=t.backbone,s=t.enzymes,l=t.enzymesCustom,f=t.file,h=t.search,d=a.part;return r(c,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return n===this.props.accession&&i===this.props.backbone&&f===this.props.file?[3,2]:[4,this.setPart()];case 1:t.sent(),t.label=2;case 2:return!h||this.props.search&&h.query===this.props.search.query&&h.mismatch===this.props.search.mismatch||this.search(d),(0,u.default)(s,this.props.enzymes)&&(0,u.default)(l,this.props.enzymesCustom)||this.cut(d),(0,u.default)(o,this.props.annotations)||this.setState({annotations:this.parseAnnotations(this.props.annotations,this.props.seq)}),[2]}}))}))},c.setPart=function(){return r(c,void 0,void 0,(function(){var t,a,c,e,r,o,l;return g(this,(function(g){switch(g.label){case 0:t=this.props,a=t.accession,c=t.file,e=t.seq,g.label=1;case 1:return g.trys.push([1,7,,8]),a?[4,(0,i.default)(a,this.props)]:[3,3];case 2:return r=g.sent(),this.setState({part:n(n({},r),{annotations:this.parseAnnotations(r.annotations,r.seq)})}),this.search(r),this.cut(r),[3,6];case 3:return c?[4,(0,s.default)(c,this.props)]:[3,5];case 4:return o=g.sent(),this.setState({part:n(n({},o[0]),{annotations:this.parseAnnotations(o[0].annotations,o[0].seq)})}),this.search(o[0]),this.cut(o[0]),[3,6];case 5:e?this.cut({seq:e}):console.warn("No 'seq', 'file', or 'accession' provided to SeqViz... Nothing to render"),g.label=6;case 6:return[3,8];case 7:return l=g.sent(),console.warn("Failed to parse input props. Please report this: https://github.com/Lattice-Automation/seqviz/issues\n  seq: %s\n  file: %s\n  accession: %s\n  error: %s",e&&e.substring(0,20)+"..."||void 0,c,a,l),[3,8];case 8:return[2]}}))}))},c.search=function(t){var a=c.props,e=a.onSearch,n=a.search,r=a.seqType,g=c.props.seq||t&&t.seq||"";if(n&&g){var o=(0,d.default)(n.query,n.mismatch,g,r||(0,p.guessType)(g));(0,u.default)(o,c.state.search)||(c.setState({search:o}),e&&e(o))}},c.cut=function(t){void 0===t&&(t=null);var a=c.props,e=a.enzymes,n=a.enzymesCustom,r=a.seq,g=[];(e&&e.length||n&&Object.keys(n).length)&&(g=(0,l.default)(r||t&&t.seq||"",e||[],n||{})),(0,u.default)(g,c.state.cutSites)||c.setState({cutSites:g})},c.parseAnnotations=function(t,a){return void 0===t&&(t=null),void 0===a&&(a=""),(t||[]).map((function(t,e){return n(n(n({},(0,p.annotationFactory)(e,c.props.colors)),t),{direction:(0,f.directionality)(t.direction),end:t.end%(a.length+1),start:t.start%(a.length+1)})}))},c.setCentralIndex=function(t,a){var e;if("linear"!==t&&"circular"!==t)throw new Error("Unknown central index type: ".concat(t));c.state.centralIndex[t]!==a&&c.setState({centralIndex:n(n({},c.state.centralIndex),(e={},e[t]=a,e))})},c.setSelection=function(t){var a=c.props.onSelection;c.setState({selection:t}),a&&a(t)},c.state={accession:"",annotations:c.parseAnnotations(a.annotations,a.seq),centralIndex:{circular:0,linear:0,setCentralIndex:c.setCentralIndex},cutSites:[],part:null,search:[],selection:n({},y.defaultSelection)},c}return e(a,t),a.prototype.componentDidCatch=function(t,a){console.error("error caught in SeqViz: %v %v",t,a)},a.prototype.render=function(){var t=this.props,a=t.highlightedRegions,c=t.highlights,e=t.name,r=t.seq,g=t.showComplement,i=t.showIndex,s=t.style,l=t.zoom,u=this.props,d=u.compSeq,b=u.translations,C=u.viewer,N=this.state,w=N.annotations,x=N.centralIndex,A=N.cutSites,G=N.part,_=N.search,q=N.selection,S=r||(null===G||void 0===G?void 0:G.seq)||"",I=this.props.seqType||(0,p.guessType)(S);if(!S)return o.createElement("div",{className:"la-vz-seqviz"});"dna"===I&&(d=d||(null===G||void 0===G?void 0:G.compSeq)||(0,f.complement)(S).compSeq||""),"dna"!==I&&b&&b.length&&(b=[]);var T=(c||[]).concat(a||[]).map((function(t){return n(n({},t),{direction:1,end:t.end%(S.length+1),id:(0,h.default)(),name:"",start:t.start%(S.length+1)})})),k=n(n({},this.props),{annotations:w&&w.length?w:(null===G||void 0===G?void 0:G.annotations)||[],bpColors:this.props.bpColors||{},compSeq:d||"",cutSites:A,highlights:T,name:e||(null===G||void 0===G?void 0:G.name)||"",search:_,selection:q,seq:S,setSelection:this.setSelection,showComplement:!!d&&("undefined"===typeof g||g)||!1,showIndex:!!i,translations:(b||[]).map((function(t){return{direction:t.direction&&t.direction<0?-1:1,end:t.start+3*Math.floor((t.end-t.start)/3),start:t.start%S.length}})),zoom:{circular:"number"==typeof(null===l||void 0===l?void 0:l.circular)?Math.min(Math.max(l.circular,0),100):0,linear:"number"==typeof(null===l||void 0===l?void 0:l.linear)?Math.min(Math.max(l.linear)):50}}),E=("linear"===(C=C||"both")||C.includes("both"))&&o.createElement(m.default,n({key:"linear",Circular:!1},k)),O=("circular"===C||C.includes("both"))&&o.createElement(m.default,n({key:"circular",Circular:!0},k)),B="both_flip"===C?[E,O]:[O,E];return o.createElement("div",{className:"la-vz-seqviz",style:s},o.createElement(v.default.Provider,{value:x},o.createElement(y.SelectionContext.Provider,{value:q},B.filter((function(t){return t})))))},a.defaultProps={accession:"",annotations:[],backbone:"",bpColors:{},colors:[],compSeq:"",copyEvent:function(){return!1},enzymes:[],enzymesCustom:{},name:"",onSearch:function(t){return null},onSelection:function(t){return null},rotateOnScroll:!0,search:{mismatch:0,query:""},seq:"",showComplement:!0,showIndex:!0,style:{},translations:[],viewer:"both",zoom:{circular:0,linear:50}},a}(o.Component);a.default=b},function(t,a,c){"use strict";var e=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},n=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var r=c(6),g=c(26);a.default=function(t,a){return void 0===a&&(a={backbone:"",colors:[]}),e(void 0,void 0,void 0,(function(){var c,e,o,i,s,l,u,f,h,d,p;return n(this,(function(n){switch(n.label){case 0:if(c=t+a.backbone||"",e=localStorage.getItem(c),t&&c&&e)return[2,JSON.parse(e)];o=a.backbone,i=void 0===o?"":o,s="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&id=".concat(t.trim(),"&rettype=gbwithparts&retmode=text"),l=!1,t.startsWith("BB")?(l=!0,s="https://cors-anywhere.herokuapp.com/http://parts.igem.org/cgi/xml/part.cgi?part=".concat(t.trim())):i.length&&console.error("backbone specified without a BioBrick"),u="",n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(s)];case 2:return[4,n.sent().text()];case 3:if(!(u=n.sent()).length)throw new Error("empty response body");return[3,5];case 4:throw f=n.sent(),new Error("Error seen requesting ".concat(t," from ").concat(s,": ").concat(f));case 5:return h=l&&i.length?{backbone:(0,g.fetchBBB)(i),name:i}:"",l&&""===h&&console.error("iGEM BioBrick ID used, but no backbone ID specified."),[4,(0,r.default)(u,{backbone:h,colors:a.colors||[]})];case 6:if((d=n.sent())&&d.length&&(p=d[0],c&&p&&p.seq))return localStorage.setItem(c,JSON.stringify(p)),[2,p];throw new Error("Failed to parse a sequence from the webserver response at '".concat(s,"': ").concat(u))}}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(7),o=c(8),i=c(10),s=c(11),l=c(13),u=c(16),f=c(17),h=c(18),d=c(19),p=c(22),m=c(23);a.default=function(t,a){return void 0===a&&(a={backbone:"",colors:o.COLORS,fileName:""}),n(void 0,void 0,void 0,(function(){var c,n,g,o,i,s,l;return r(this,(function(r){switch(r.label){case 0:return c=[],n=a.fileName,g=void 0===n?"":n,o=a.colors,i=void 0===o?[]:o,s=a.backbone,l=void 0===s?"":s,"string"===typeof t?c.push(v(t,{backbone:l,colors:i,fileName:g})):(Array.isArray(t)||(t=[t]),t.forEach((function(t){if("string"===typeof t)c.push(v(t,a));else{if("application/zip"===t.type)throw new Error("zip files are not supported by SeqViz");c.push(new Promise((function(c,n){var r=new FileReader;r.onload=function(t){t.target&&t.target.result?c(v(t.target.result,g)):n("Failed to load results from FileReader")};var g=t.name?e(e({},a),{fileName:t.name}):a;null!=g.fileName&&g.fileName.endsWith(".dna")?r.readAsArrayBuffer(t):r.readAsText(t)})))}}))),[4,Promise.all(c)];case 1:return[2,r.sent().reduce((function(t,a){return t.concat(a)}),[])]}}))}))};var v=function(t,a){return void 0===a&&(a={backbone:"",colors:[],fileName:""}),n(void 0,void 0,void 0,(function(){var c,n,o,v,b,C,N,w,x,A,G,_,q,S,I,T,k,E;return r(this,(function(r){switch(r.label){case 0:if(c=a.fileName,n=void 0===c?"":c,o=a.colors,v=void 0===o?[]:o,b=a.backbone,C=void 0===b?"":b,N=n.split(g.sep).pop()||n,w={file:t instanceof ArrayBuffer?"":t,name:N},!t)throw Error("cannot parse null or empty string");return t instanceof ArrayBuffer?n.endsWith(".dna")?[4,(0,m.default)(t,{colors:v,fileName:n})]:[3,2]:[3,4];case 1:return[2,r.sent().map((function(t){return y(t,w)}))];case 2:throw Error("Unrecognized file type, ArrayBuffer but not a Snapgene file (.dna)");case 3:return[3,5];case 4:x=t,r.label=5;case 5:A=x.substring(0,x.search("\n")),G=A.replace(/[^atcgATCG]/,"").length,_=G/A.length>.8,q=n&&N?N.substring(0,N.search("\\.")):"Untitled",I=!1;try{T=JSON.parse(x),k=Object.keys(T),["bases","annotations","primers"].every((function(t){return k.includes(t)}))&&(I=!0)}catch(O){}r.label=6;case 6:switch(r.trys.push([6,24,,25]),!0){case x.startsWith(">"):case x.startsWith(";"):case n.endsWith(".seq"):case n.endsWith(".fa"):case n.endsWith(".fas"):case n.endsWith(".fasta"):return[3,7];case x.includes("LOCUS")&&x.includes("ORIGIN"):case n.endsWith(".gb"):case n.endsWith(".gbk"):case n.endsWith(".genbank"):case n.endsWith(".ape"):return[3,9];case x.includes("Written by SeqBuilder"):case n.endsWith(".sbd"):return[3,11];case x.includes("Parts from the iGEM"):case x.includes("<part_list>"):return[3,13];case I:return[3,15];case x.includes("RDF"):return[3,17];case x.includes(':seq="http://jbei.org/sequence"'):case x.startsWith("<seq:seq"):return[3,19];case _:return[3,21]}return[3,22];case 7:return[4,(0,u.default)(x,n).then((function(t){return t.map((function(t){return e(e(e({},(0,i.partFactory)()),(0,i.complement)(t.seq)),t)}))}))];case 8:return S=r.sent(),[3,23];case 9:return[4,(0,f.default)(x,n,v)];case 10:return S=r.sent(),[3,23];case 11:return[4,(0,p.default)(x,n,v)];case 12:return S=r.sent(),[3,23];case 13:return[4,(0,l.default)(x,{backbone:C,colors:v})];case 14:return S=r.sent(),[3,23];case 15:return[4,(0,s.default)(x)];case 16:return S=r.sent(),[3,23];case 17:return[4,(0,d.default)(x,n,v)];case 18:return S=r.sent(),[3,23];case 19:return[4,(0,h.default)(x,v)];case 20:return S=r.sent(),[3,23];case 21:return S=[e(e(e({},(0,i.partFactory)()),(0,i.complement)(x)),{name:q})],[3,23];case 22:throw Error("".concat(n," File type not recognized: ").concat(x));case 23:return[3,25];case 24:throw E=r.sent(),console.error(E),E;case 25:if(S)return[2,S.map((function(t){return y(t,w)}))];throw Error("unparsable file")}}))}))},y=function(t,a){return e(e({},t),{annotations:t.annotations.map((function(t){return e(e({},t),{name:t.name||"Untitled"})})),source:a})}},t=>{"use strict";function a(t){if("string"!==typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function c(t,a){for(var c,e="",n=0,r=-1,g=0,o=0;o<=t.length;++o){if(o<t.length)c=t.charCodeAt(o);else{if(47===c)break;c=47}if(47===c){if(r===o-1||1===g);else if(r!==o-1&&2===g){if(e.length<2||2!==n||46!==e.charCodeAt(e.length-1)||46!==e.charCodeAt(e.length-2))if(e.length>2){var i=e.lastIndexOf("/");if(i!==e.length-1){-1===i?(e="",n=0):n=(e=e.slice(0,i)).length-1-e.lastIndexOf("/"),r=o,g=0;continue}}else if(2===e.length||1===e.length){e="",n=0,r=o,g=0;continue}a&&(e.length>0?e+="/..":e="..",n=2)}else e.length>0?e+="/"+t.slice(r+1,o):e=t.slice(r+1,o),n=o-r-1;r=o,g=0}else 46===c&&-1!==g?++g:g=-1}return e}var e={resolve:function(){for(var t,e="",r=!1,g=arguments.length-1;g>=-1&&!r;g--){var o;g>=0?o=arguments[g]:(void 0===t&&(t=n.cwd()),o=t),a(o),0!==o.length&&(e=o+"/"+e,r=47===o.charCodeAt(0))}return e=c(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(a(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=c(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return a(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,c=0;c<arguments.length;++c){var n=arguments[c];a(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":e.normalize(t)},relative:function(t,c){if(a(t),a(c),t===c)return"";if((t=e.resolve(t))===(c=e.resolve(c)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var r=t.length,g=r-n,o=1;o<c.length&&47===c.charCodeAt(o);++o);for(var i=c.length-o,s=g<i?g:i,l=-1,u=0;u<=s;++u){if(u===s){if(i>s){if(47===c.charCodeAt(o+u))return c.slice(o+u+1);if(0===u)return c.slice(o+u)}else g>s&&(47===t.charCodeAt(n+u)?l=u:0===u&&(l=0));break}var f=t.charCodeAt(n+u);if(f!==c.charCodeAt(o+u))break;47===f&&(l=u)}var h="";for(u=n+l+1;u<=r;++u)u!==r&&47!==t.charCodeAt(u)||(0===h.length?h+="..":h+="/..");return h.length>0?h+c.slice(o+l):(o+=l,47===c.charCodeAt(o)&&++o,c.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(a(t),0===t.length)return".";for(var c=t.charCodeAt(0),e=47===c,n=-1,r=!0,g=t.length-1;g>=1;--g)if(47===(c=t.charCodeAt(g))){if(!r){n=g;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)},basename:function(t,c){if(void 0!==c&&"string"!==typeof c)throw new TypeError('"ext" argument must be a string');a(t);var e,n=0,r=-1,g=!0;if(void 0!==c&&c.length>0&&c.length<=t.length){if(c.length===t.length&&c===t)return"";var o=c.length-1,i=-1;for(e=t.length-1;e>=0;--e){var s=t.charCodeAt(e);if(47===s){if(!g){n=e+1;break}}else-1===i&&(g=!1,i=e+1),o>=0&&(s===c.charCodeAt(o)?-1===--o&&(r=e):(o=-1,r=i))}return n===r?r=i:-1===r&&(r=t.length),t.slice(n,r)}for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!g){n=e+1;break}}else-1===r&&(g=!1,r=e+1);return-1===r?"":t.slice(n,r)},extname:function(t){a(t);for(var c=-1,e=0,n=-1,r=!0,g=0,o=t.length-1;o>=0;--o){var i=t.charCodeAt(o);if(47!==i)-1===n&&(r=!1,n=o+1),46===i?-1===c?c=o:1!==g&&(g=1):-1!==c&&(g=-1);else if(!r){e=o+1;break}}return-1===c||-1===n||0===g||1===g&&c===n-1&&c===e+1?"":t.slice(c,n)},format:function(t){if(null===t||"object"!==typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,a){var c=a.dir||a.root,e=a.base||(a.name||"")+(a.ext||"");return c?c===a.root?c+e:c+t+e:e}("/",t)},parse:function(t){a(t);var c={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return c;var e,n=t.charCodeAt(0),r=47===n;r?(c.root="/",e=1):e=0;for(var g=-1,o=0,i=-1,s=!0,l=t.length-1,u=0;l>=e;--l)if(47!==(n=t.charCodeAt(l)))-1===i&&(s=!1,i=l+1),46===n?-1===g?g=l:1!==u&&(u=1):-1!==g&&(u=-1);else if(!s){o=l+1;break}return-1===g||-1===i||0===u||1===u&&g===i-1&&g===o+1?-1!==i&&(c.base=c.name=0===o&&r?t.slice(1,i):t.slice(o,i)):(0===o&&r?(c.name=t.slice(1,g),c.base=t.slice(1,i)):(c.name=t.slice(o,g),c.base=t.slice(o,i)),c.ext=t.slice(g,i)),o>0?c.dir=t.slice(0,o-1):r&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};e.posix=e,t.exports=e},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.darkerColor=a.borderColorByIndex=a.colorByIndex=a.chooseRandomColor=a.COLOR_BORDER_MAP=a.COLORS=void 0;var e=c(9);a.COLORS=["#9DEAED","#8FDE8C","#CFF283","#8CDEBD","#F0A3CE","#F7C672","#F07F7F","#FAA887","#F099F7","#C59CFF","#6B81FF","#85A6FF"],a.COLOR_BORDER_MAP={"#6B81FF":"#2E3B85","#85A6FF":"#4C66AD","#8CDEBD":"#4CA17F","#8FDE8C":"#5CA35A","#9DEAED":"#5EB5B8","#C59CFF":"#8A60C4","#CFF283":"#8DB041","#F07F7F":"#AD4040","#F099F7":"#AB63B0","#F0A3CE":"#BD6295","#F7C672":"#BD872B","#FAA887":"#B36446"},a.chooseRandomColor=function(t){var c=t||a.COLORS;return c[Math.floor(Math.random()*c.length)]},a.colorByIndex=function(t,c){return(c||a.COLORS)[t%(c||a.COLORS).length]},a.borderColorByIndex=function(t){return a.COLOR_BORDER_MAP[a.COLORS[t%a.COLORS.length]]};var n={};a.darkerColor=function(t){if(n[t])return n[t];var a=(0,e.pSBC)(-.5,t);return n[t]=a,a}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.pSBC=void 0,a.pSBC=function(t,a,c,e){var n,r,g,o,i,s,l,u=parseInt,f=Math.round,h="string"==typeof c;if("number"!==typeof t||t<-1||t>1||"string"!==typeof a||"r"!==a[0]&&"#"!==a[0]||c&&!h)return null;var d=function(t){var a,c=t.length,e={};if(c>9){if(a=t=t.split(","),n=a[0],r=a[1],g=a[2],h=a[3],(c=t.length)<3||c>4)return null;e.r=u("a"===n[3]?n.slice(5):n.slice(4)),e.g=u(r),e.b=u(g),e.a=h?parseFloat(h):-1}else{if(8===c||6===c||c<4)return null;c<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(c>4?t[4]+t[4]:"")),t=u(t.slice(1),16),9===c||5===c?(e.r=t>>24&255,e.g=t>>16&255,e.b=t>>8&255,e.a=f((255&t)/.255)/1e3):(e.r=t>>16,e.g=t>>8&255,e.b=255&t,e.a=-1)}return e};return l=a.length>9,l=h?c.length>9||"c"===c&&!l:l,i=d(a),o=t<0,s=c&&"c"!==c?d(c):o?{a:-1,b:0,g:0,r:0}:{a:-1,b:255,g:255,r:255},o=1-(t=o?-1*t:t),i&&s?(e?(n=f(o*i.r+t*s.r),r=f(o*i.g+t*s.g),g=f(o*i.b+t*s.b)):(n=f(Math.pow(o*Math.pow(i.r,2)+t*Math.pow(s.r,2),.5)),r=f(Math.pow(o*Math.pow(i.g,2)+t*Math.pow(s.g,2),.5)),g=f(Math.pow(o*Math.pow(i.b,2)+t*Math.pow(s.b,2),.5))),h=i.a,s=s.a,h=(i=h>=0||s>=0)?h<0?s:s<0?h:h*o+s*t:0,l?"rgb"+(i?"a(":"(")+n+","+r+","+g+(i?","+f(1e3*h)/1e3:"")+")":"#"+(4294967296+16777216*n+65536*r+256*g+(i?f(255*h):0)).toString(16).slice(1,i?void 0:-2)):null}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.partFactory=a.directionality=a.firstElement=a.extractDate=a.reverseComplement=a.complement=void 0;var c={A:"T",B:"V",C:"G",D:"H",G:"C",H:"D",K:"M",M:"K",N:"N",R:"Y",S:"S",T:"A",U:"A",V:"B",W:"W",X:"X",Y:"R",a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"};a.complement=function(t){if(!t)return{compSeq:"",seq:""};for(var a="",e="",n=0,r=t.length;n<r;n+=1)c[t[n]]&&(a+=t[n],e+=c[t[n]]);return{compSeq:e,seq:a}},a.reverseComplement=function(t){return(0,a.complement)(t).compSeq.split("").reverse().join("")},a.extractDate=function(t){var a=Date.now();return t.forEach((function(t){Date.parse(t)&&(a=Date.parse(t))})),a},a.firstElement=function(t){if(Array.isArray(t))return t[0]};var e=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),n=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]);a.directionality=function(t){return t?e.has(t)?1:n.has(t)?-1:0:0},a.partFactory=function(){return{annotations:[],compSeq:"",cutSites:[],name:"",primers:[],seq:""}}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(10),o=c(12);a.default=function(t){return n(void 0,void 0,void 0,(function(){var a,c,n,i;return r(this,(function(r){return a=JSON.parse(t),c=(0,g.complement)(a.bases),n=c.compSeq,(i=c.seq).length<1?[2,Promise.reject(new Error("Empty part sequence... invalid"))]:[2,[e(e({},(0,g.partFactory)()),{annotations:a.annotations.map((function(t){return e(e({},t),{direction:(0,g.directionality)(t.strand),id:(0,o.default)()})})),compSeq:n,name:a.name||a._id,seq:i})]]}))}))}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t){void 0===t&&(t=10);var a,c=(a=Math.pow(10,t+1))/10,e=Math.floor(Math.random()*(a-c+1))+c;return String(e).substring(1)}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(14),o=c(10),i=c(15);a.default=function(t,a){return n(void 0,void 0,void 0,(function(){return r(this,(function(c){return[2,new Promise((function(c,n){var r=a.backbone,s=void 0===r?"":r,l=function(t){return n(new Error("Failed on BioBrick because ".concat(t)))};g.parseString(t,{},(function(t,a){t&&l("XML to JSON: ".concat(t));var n=(0,o.firstElement)(a.rsbpml.part_list);n&&n.part||l("getting first part"),(n=(0,o.firstElement)(n.part))||l("getting first part");var r=n.features,g=n.part_name,u=n.sequences,f=(0,o.firstElement)(u);f&&f.seq_data||l("getting seq_data");var h=(0,o.firstElement)(r);h=h&&"feature"in h?h.feature:[];var d=(0,o.firstElement)(f.seq_data);s.backbone&&(d+=s.backbone);var p=s.name&&s.name.length<20?s.name:"",m="".concat((0,o.firstElement)(g),"-").concat(p);d&&m||l("seq || name || featureArray");var v=h.map((function(t,a){if(!t)return null;var c=t.direction,n=t.endpos,r=t.startpos,g=t.type;return e(e({},(0,i.annotationFactory)(a)),{direction:"forward"===c[0]?1:-1,end:+n[0]||0,name:"".concat(c[0],"-").concat(r[0]),start:+r[0]||0,type:g[0]||"N/A"})})).filter((function(t){return t}));v.push(e(e({},(0,i.annotationFactory)(v.length)),{end:0,name:s.name,start:(0,o.firstElement)(f.seq_data).length}));var y=e(e(e({},(0,o.partFactory)()),(0,o.complement)(d)),{annotations:v,name:m});c([y])}))}))]}))}))}},t=>{"use strict";t.exports=c(8843)},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.createLinearTranslations=a.translateDNA=a.primerFactory=a.annotationFactory=a.reverse=a.calcLength=a.calcTm=a.calcGC=a.returnRanges=a.getMismatchIndices=a.guessType=a.getAlphabet=a.nucleotides=void 0;var n=c(8),r=c(10),g=c(12);a.nucleotides={a:"a",c:"c",g:"g",t:"t",u:"u"};var o={b:{c:"c",g:"g",t:"t"},d:{a:"a",g:"g",t:"t"},h:{a:"a",c:"c",t:"t"},k:{g:"g",t:"t"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",t:"t"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",t:"t"},x:{a:"a",c:"c",g:"g",t:"t"},y:{c:"c",t:"t"}},i={b:{c:"c",g:"g",u:"u"},d:{a:"a",g:"g",u:"u"},h:{a:"a",c:"c",u:"u"},k:{g:"g",u:"u"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",u:"u"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",u:"u"},x:{a:"a",c:"c",g:"g",u:"u"},y:{c:"c",u:"u"}},s={AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"},l=Array.from(new Set(Object.values(s)).values()).join(""),u=new RegExp("^[".concat(l,"]+$"),"i"),f={b:{d:"d",n:"n"},j:{i:"i",l:"l"},x:l.toLowerCase().split("").filter((function(t){return"*"!==t})).reduce((function(t,a){var c;return e(e({},t),((c={})[a]=a,c))}),{}),z:{e:"e",q:"q"}};a.getAlphabet=function(t){return{aa:f,dna:o,rna:i,unknown:o}[t]},a.guessType=function(t){return/^[atgc]+$/i.test(t)?"dna":/^[augc]+$/i.test(t)?"rna":u.test(t)?"aa":"unknown"},a.getMismatchIndices=function(t,a){return t.split("").map((function(t,c){return t!==a.split("")[c]?c:-1})).filter((function(t){return-1!==t}))},a.returnRanges=function(t){var a=t[0],c=t[0]-1,e=[];return t.forEach((function(n,r){n>c+1&&(e.push([a,t[r-1]]),a=n,c=n-1),n===t[t.length-1]&&e.push([a,n]),c+=1})),e},a.calcGC=function(t){if(!t)return 0;var a=(t.match(/[CG]/gi)||[]).length/t.length*100;return parseFloat(a.toFixed(2))},a.calcTm=function(t,c){void 0===c&&(c=t);var e=t.length,n=(t.match(/[CG]/gi)||[]).length,r=(t.match(/[AT]/gi)||[]).length,g=(0,a.getMismatchIndices)(t,c).length,o=(0,a.calcGC)(t);return e<14?2*r+4*n:e>24&&e<46&&o>40&&t.slice(0,1)in{C:"C",G:"G"}?100/e*(.815*e+.41*n-g-6.75):Math.round(64.9+41*(n-16.4)/e)},a.calcLength=function(t,a,c){return a>t?a-t:a===t?c:c-t+a},a.reverse=function(t){return t.split("").reverse().join("")},a.annotationFactory=function(t,a){void 0===t&&(t=-1);var c=a&&a.length?a:n.COLORS;return{color:t>=0?(0,n.colorByIndex)(t,c):(0,n.chooseRandomColor)(c),direction:0,end:0,id:(0,g.default)(),name:"",start:0}},a.primerFactory=function(){return{any:0,complementId:"",dimer:0,gc:0,hairpin:0,id:(0,g.default)(),name:"",overhang:"",penalty:0,sequence:"",stability:0,strict:!1,tm:0,vector:""}},a.translateDNA=function(t){for(var a=t.toUpperCase(),c=a.length,e="",n=0,r=0;n<c;n+=3,r+=1)n+2<c&&(e+=s[a[n]+a[n+1]+a[n+2]]||"?");return e},a.createLinearTranslations=function(t,c){var n=c+c;return t.map((function(t){var o=t.direction,i=t.start,s=t.end;i>s&&(s+=c.length);var l=1===o?n.substring(i,s):(0,r.complement)(n.substring(i,s)).compSeq.split("").reverse().join(""),u=1===o?(0,a.translateDNA)(l):(0,a.translateDNA)(l).split("").reverse().join(""),f=1===o?i:s-3*u.length,h=1===o?(i+3*u.length)%c.length:s%c.length;return 0===h&&(h+=c.length),e(e({id:(0,g.default)(),name:"translation"},t),{AAseq:u,end:h,start:f})}))}},function(t,a){"use strict";var c=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},e=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,a){return c(void 0,void 0,void 0,(function(){var c,n,r,g;return e(this,(function(e){return t.trim().startsWith(">")?[2,t.split(">").map((function(t){var a=t.substr(t.indexOf("\n"),t.length).replace(/\s/g,"");return{name:t.substring(0,t.search(/\n|\|/)).replace(/\//g,""),seq:a}})).filter((function(t){return t.name&&t.seq}))]:t.trim().startsWith(";")?(c=t.substring(0,t.search(/\n|\|/)).replace(/\//g,""),n=t.indexOf("\n",t.lastIndexOf(";")),r=t.substring(n,t.length),[2,[{name:c,seq:r}]]):(g=a.lastIndexOf(".")||a.length,[2,[{name:a.substring(0,g)||"Untitled",seq:t}]])}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(10),o=c(15),i=new Set(["gene","product","note","db_xref","protein_id","label","lab_host","locus_tag"]),s=new Set(["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"]);a.default=function(t,a,c){return void 0===c&&(c=[]),n(void 0,void 0,void 0,(function(){return r(this,(function(n){return[2,t.split(/\/\/\s/g).filter((function(t){return t.length>5})).map((function(t){var n,r=t.substring(t.indexOf("LOCUS"),t.search(/\\n|\n/)),l=r.split(/\s{2,}/g).filter((function(t){return t})),u=l[1],f=l.slice(2),h=u;if("Exported"===h&&t.includes("SnapGene")||Number.parseInt(h,10)){var d=!1;if(t.includes("ACCESSION")){var p=t.substring(t.indexOf("ACCESSION"),t.indexOf("\n",t.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(t){return"ACCESSION"!==t})).pop();p&&(h=p,d=!0)}!d&&a?h=a.substring(0,Math.max(a.search(/\n|\||\./),a.lastIndexOf("."))).replace(/\/\s/g,""):d||(h="Unnamed")}var m,v=(0,g.extractDate)(f),y=t.substring(t.lastIndexOf("ORIGIN")+"ORIGIN".length,t.length).replace(/[^gatc]/gi,"");m=(n=(0,g.complement)(y)).compSeq,y=n.seq;var b=[],C=[];if(t.indexOf("FEATURES")){var N=t.indexOf("FEATURES"),w=t.indexOf("\n",N),x=t.lastIndexOf("ORIGIN");t.includes("CONTIG")&&(x=Math.min(x,t.indexOf("CONTIG"))),t.substring(w,x).split(/\n/).filter((function(t){return t})).forEach((function(t,a){var n=t.split(/\s{2,}/g).filter((function(t){return t}));if(n.length>1){var r=n[0],g=n[1],l=/\d+/g,u=t.includes("complement")?-1:1,f=[0,0],h=f[0],d=f[1],p=l.exec(g);if(p){d=(1+(h=+p[0]-1%y.length))%y.length;var m=l.exec(g);m&&(d=+m[0]%y.length)}"source"!==r&&b.push(e(e({},(0,o.annotationFactory)(a,c)),{direction:u,end:d,start:h,type:r}))}else if(1===n.length&&n[0].startsWith("/")){var v=n[0],N=(v=v.replace(/[/"]/g,"")).split(/=/),w=N[0],x=N[1],A=b.length-1;i.has(w.toLowerCase())?A>=0&&!b[A].name&&(b[A].name=x.trim()):s.has(w)?A>-1&&(b[A].color=x):"loom_primer_sequence"===w&&primerFlag&&(C[C.length-1].sequence=x)}}))}var A=!1;return(b.find((function(t){return!(0===t.end&&t.start)&&t.start>t.end}))||r.includes("circular"))&&(A=!0),e(e({},(0,g.partFactory)()),{annotations:b,circular:A,compSeq:m,date:v,name:h.trim()||a,primers:C,seq:y})}))]}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(14),o=c(8),i=c(10),s=c(12);a.default=function(t,a){return void 0===a&&(a=[]),n(void 0,void 0,void 0,(function(){return r(this,(function(a){return[2,new Promise((function(a,c){var n=t.replace(/\u201c|\u201d/g,'"');g.parseString(n,{attrkey:"xml_tag",tagNameProcessors:[g.processors.stripPrefix],xmlns:!0},(function(t,n){t&&c(new Error("Failed on JBEI file; ".concat(t)));var r=n.seq,g=r.features,l=r.name,u=r.sequence,f="Unnamed";l&&l[0]&&l[0]._&&(f=l[0]._);var h="";u&&u[0]&&u[0]._&&(h=u[0]._);var d=(0,i.complement)(h),p=d.compSeq,m=d.seq;if(!m)return null;var v=[];g&&g[0]&&g[0].feature&&g[0].feature.forEach((function(t,a){if(t){var c=t.label,e=void 0===c?[{}]:c,n=t.type,r=void 0===n?[{}]:n,g=t.complement,i=void 0===g?[{}]:g,l=t.location,u=void 0===l?[]:l;u&&u[0]&&u[0].genbankStart&&u[0].end&&v.push({color:(0,o.colorByIndex)(a),direction:"true"===i[0]._?-1:1,end:+u[0].end[0]._||0,id:(0,s.default)(),name:e[0]._||"Untitled",start:+u[0].genbankStart[0]._-1||0,type:r[0]._||"N/A"})}})),a([e(e({},(0,i.partFactory)()),{annotations:v,compSeq:p,name:f,seq:m})])}))}))]}))}))}},function(t,a,c){"use strict";var e=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},n=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var r=c(20),g=c(21);a.default=function(t,a,c){return void 0===c&&(c=[]),e(void 0,void 0,void 0,(function(){return n(this,(function(e){return[2,t.includes("sbols.org/v1#")?(0,r.default)(t,c):(0,g.default)(t,a,c)]}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(14),o=c(8),i=c(10),s=c(12),l=function(t,a){var c=a.file,n=a.strict,r=void 0!==n&&n,g=t.annotation,l=t.displayId,u=t.dnaSequence,f=t.name,h="Unnamed";if(f&&f[0]&&f[0]._)h=f[0]._;else if(l&&l[0]&&l[0]._)h=l[0]._;else if(r)return null;var d="";if(u&&u[0]&&u[0].DnaSequence){var p=u[0].DnaSequence;p[0]&&p[0].nucleotides&&p[0].nucleotides[0]&&p[0].nucleotides[0]._&&(d=p[0].nucleotides[0]._)}var m=(0,i.complement)(d),v=m.compSeq,y=m.seq;if(!y)return null;var b=[];g&&g.forEach((function(t,a){var c=t.SequenceAnnotation;if(c&&c[0]){var e=c[0],n=e.bioStart,r=void 0===n?[{}]:n,g=e.bioEnd,i=void 0===g?[{}]:g,l=e.strand,u=e.subComponent;if(u&&u[0]&&u[0].DnaComponent&&u[0].DnaComponent[0]){var f=u[0].DnaComponent[0],h=f.type,d=void 0===h?[{}]:h,p=f.displayId,m=void 0===p?[{}]:p,v=f.name,y=void 0===v?[{}]:v;b.push({color:(0,o.colorByIndex)(a),direction:"+"===l[0]._?1:-1,end:i[0]._||0,id:(0,s.default)(),name:y[0]._||m[0]._||"Untitled",start:r[0]._-1||0,type:d[0]._||"N/A"})}}}));var C=c.search(/plasmid/i)>0;return e(e({},(0,i.partFactory)()),{annotations:b,circular:C,compSeq:v,name:h,seq:y})},u=function(t,a){Object.keys(a).forEach((function(c){"DnaComponent"===c&&a[c].length&&t.push.apply(t,a[c]),Array.isArray(a[c])&&a[c].forEach((function(a){u(t,a)}))}))},f=function(t,a){Object.keys(a).forEach((function(c){"Sequence"===c&&a[c].length&&t.push.apply(t,a[c]),Array.isArray(a[c])&&a[c].forEach((function(a){f(t,a)}))}))};a.default=function(t,a){return void 0===a&&(a=[]),n(void 0,void 0,void 0,(function(){return r(this,(function(c){return[2,new Promise((function(c,n){setTimeout((function(){n(new Error("Took to long to parse SBOL"))}),2e3);var r=t.replace(/\u201c|\u201d/g,'"');g.parseString(r,{attrkey:"xml_tag",tagNameProcessors:[g.processors.stripPrefix],xmlns:!0},(function(r,g){r&&n(new Error("Failed on SBOL file; ".concat(r)));var o=null;g.RDF&&(o=g.RDF),o||n(new Error("No root RDF document"));var s=o.Collection,h=o.DnaComponent;if(s&&s.length){var d=[];s.forEach((function(c){var e=c.component;e&&e.length&&e.forEach((function(c){var e=c.DnaComponent;d.push(l(e[0],{colors:a,file:t,strict:!1}))}))})),d.length&&c(d)}else if(h&&h.length){var p=l(h[0],{colors:a,file:t,strict:!1});p&&c([p])}var m=[];u(m,o);var v=m.map((function(c){return l(c,{colors:a,file:t,strict:!0})})).filter((function(t){return t}));v.length&&c(v);var y=[];f(y,o);var b=y.map((function(a){return function(t,a){var c=t.displayId[0]&&t.displayId[0]._||t.title[0]&&t.title[0]._||"Unnamed",n=t.elements[0]&&t.elements[0]._||"",r=(0,i.complement)(n),g=r.compSeq,o=r.seq,s=a.search(/plasmid/i)>0;return e(e({},(0,i.partFactory)()),{circular:s,compSeq:g,name:c,seq:o})}(a,t)})).filter((function(t){return t}));b.length&&c(b),n(new Error("no valid DnaComponent or Collection"))}))}))]}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(14),o=c(10),i=c(15),s=function(t){return t&&t[0]&&t[0]._?t[0]._:null};a.default=function(t,a,c){return void 0===c&&(c=[]),n(void 0,void 0,void 0,(function(){return r(this,(function(c){return[2,new Promise((function(c,n){var r=t.replace(/\u201c|\u201d/g,'"');g.parseString(r,{attrkey:"xml_tag",tagNameProcessors:[g.processors.stripPrefix],xmlns:!0},(function(t,r){t&&n(new Error("Failed on SBOLv2 file: ".concat(t)));var g=null;r.RDF&&(g=r.RDF),g||n(new Error("No root RDF document"));var l=g.ComponentDefinition,u=g.Sequence;l&&l.length&&u||c([]);var f=[];l.forEach((function(t,c){if(t.sequence&&t.sequence.length){var n=t.description,r=t.displayId,g=t.sequence,l=t.sequenceAnnotation,h=s(r)||"".concat(a,"_").concat(c+1),d=s(n)||"",p=[];(l||[]).forEach((function(t){var a=t.SequenceAnnotation[0],c=s(a.displayId),n=a.location[0].Range[0];p.push(e(e({},(0,i.annotationFactory)(c)),{end:s(n.end)-1,name:c,start:s(n.start)-1}))}));var m=g[0].xml_tag["rdf:resource"].value,v=u.find((function(t){return t.persistentIdentity&&t.persistentIdentity.length&&t.persistentIdentity[0].xml_tag["rdf:resource"].value===m||t.xml_tag["rdf:about"].value===m}));if(v&&v.elements){var y=s(v.elements)||"",b=(0,o.complement)(y),C=b.compSeq,N=b.seq;f.push(e(e({},(0,o.partFactory)()),{annotations:p,compSeq:C,name:h,note:d,seq:N}))}}})),f.length&&c(f),c([])}))}))]}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},r=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var g=c(10),o=c(15),i=["gene","product","note","db_xref","protein_id","label","lab_host"],s=["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"];a.default=function(t,a,c){return void 0===c&&(c=[]),n(void 0,void 0,void 0,(function(){return r(this,(function(c){return[2,t.split(/\/\/\s/g).map((function(t){var c,n,r=t.substring(t.search(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)+t.match(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)[0].length,t.length).match(/[actgyrwskmdvhbxn]+/gim)[0];n=(c=(0,g.complement)(r)).compSeq,r=c.seq;var l=a.length>0?a:"Unnamed",u=Date.now(),f=!1;if(r.length>5e5)throw new Error("Import of sequence length ".concat(r.length,"bp failed. Please keep sequences under 500000bp."),r.length);if(~t.indexOf("LOCUS")){var h=t.substring(t.indexOf("LOCUS"),t.search(/\\n|\n/));if(h&&h.split(/\s{2,}/g)){var d=h.split(/\s{2,}/g).filter((function(t){return t})),p=d[1],m=d.slice(2);l=p,u=(0,g.extractDate)(m),h.includes("circular")&&(f=!0)}}if("Exported"===l&&t.includes("SnapGene")||Number.parseInt(l,10)){var v=!1;if(t.includes("ACCESSION")){var y=t.substring(t.indexOf("ACCESSION"),t.indexOf("\n",t.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(t){return"ACCESSION"!==t})).pop();y&&(l=y,v=!0)}!v&&a?l=a.substring(0,Math.max(a.search(/\n|\||\./),a.lastIndexOf("."))).replace(/\/\s/g,""):v||(l="Unnamed")}var b=[];if(t.indexOf("FEATURES")){var C=t.indexOf("FEATURES"),N=t.indexOf("\n",C),w=t.lastIndexOf("ORIGIN");t.includes("CONTIG")&&(w=Math.min(w,t.indexOf("CONTIG"))),t.substring(N,w).split(/\n/).filter((function(t){return t})).forEach((function(t){var a=t.split(/\s{2,}/g).filter((function(t){return t}));if(a.length>1){var c=a[0],n=a[1],g=/\d+/g,l=t.includes("complement")?-1:1,u=[0,0],f=u[0],h=u[1],d=g.exec(n);if(d){f=+d[0]-1%r.length;var p=g.exec(n);p&&(h=+p[0]%r.length)}"source"!==c&&b.push(e(e({},(0,o.annotationFactory)()),{direction:l,end:h,start:f,type:c}))}else if(1===a.length){var m=a[0],v=(m=m.replace(/[/"]/g,"")).split(/=/),y=v[0],C=v[1],N=b.length-1;i.includes(y)?N>-1&&!b[b.length-1].name&&(b[b.length-1].name=C.trim()):s.includes(y)&&N>-1&&(b[b.length-1].color=C)}}))}return b.find((function(t){return!(0===t.end&&t.start)&&t.start>t.end}))&&(f=!0),e(e({},(0,g.partFactory)()),{annotations:b,circular:f,compSeq:n,date:u,name:l.trim()||a,seq:r})}))]}))}))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)},n=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},g=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var o=c(24),i=c(25),s=c(14),l=c(10),u=c(15);a.default=function(t,a){return n(void 0,void 0,void 0,(function(){var c,s,m,v,y,b,C,N,w,x,A,G;return g(this,(function(_){switch(_.label){case 0:return c=a.fileName,s=void 0===c?"":c,m=0,y=function(t,a){return n(void 0,void 0,void 0,(function(){var c,e;return g(this,(function(n){switch(n.label){case 0:return c=v(t),[4,o.unpack(">".concat(a),c)];case 1:return void 0===(e=n.sent())?[2,void 0]:[2,e[0]]}}))}))},(v=function(a,c){var e=r.from(t.slice(m,a+m));return m+=a,c?new i.StringDecoder(c).write(e):e})(1),[4,y(4,"I")];case 1:if(b=_.sent(),C=v(8,"ascii"),14!==b||"SnapGene"!==C)throw new Error("wrong format for a SnapGene file");return w=N={},[4,y(2,"H")];case 2:return w.isDNA=_.sent(),x=N,[4,y(2,"H")];case 3:return x.exportVersion=_.sent(),A=N,[4,y(2,"H")];case 4:A.importVersion=_.sent(),G=function(){var t,a,c,n,r,o,i,s,m,b,C,w,x,A;return g(this,(function(g){switch(g.label){case 0:return t=v(1),[4,y(4,"I")];case 1:return a=g.sent(),0!==(c=f(t))?[3,3]:[4,y(1,"b")];case 2:if(n=g.sent(),r=h(n),N.circular=d(r),(o=a-1)<0)throw new Error("error parsing sequence data");return N.seq=v(o,"ascii"),N.compSeq=(0,l.complement)(N.seq).compSeq,[3,8];case 3:return 6!==c?[3,5]:(i=v(a,"utf8"),[4,p(i)]);case 4:return s=g.sent(),N.notes=s?s.description:"",[3,8];case 5:return 10!==c?[3,7]:(m={0:"NONE",1:1,2:-1,3:"BIDIRECTIONAL",undefined:"NONE"},b=v(a,"utf8"),[4,p(b)]);case 6:return C=g.sent(),w=C.Features,x=(void 0===w?{}:w).Feature,A=void 0===x?[]:x,N.annotations=[],A.forEach((function(t){var a=t.$,c=t.Segment,n=void 0===c?[]:c,r=0,g=0;n&&n.forEach((function(t){var a=t.$;if(!a)throw new Error("Invalid feature definition");var c=a.range.split("-"),e=c[0],n=c[1];r=0===r?e:Math.min(r,e),g=Math.max(g,n)}));var o=a.directionality;N.annotations.push(e(e({},(0,u.annotationFactory)()),{direction:m[o],end:g-1,name:a.name,start:r-1,type:a.type}))})),[3,8];case 7:v(a),g.label=8;case 8:return[2]}}))},_.label=5;case 5:return m<=t.byteLength?[5,G()]:[3,7];case 6:return _.sent(),[3,5];case 7:return[2,[e(e(e({},(0,l.partFactory)()),N),{name:s.replace(".dna","")})]]}}))}))};var f=function(t){return t.toString().charCodeAt(0)},h=function(t){return(t>>>0).toString(2)},d=function(t){return 1===Number(t.toString().split("").pop())},p=function(t){return new Promise((function(a,c){s.parseString(t,(function(t,e){t&&c(t),a(e)}))}))}},t=>{"use strict";t.exports=c(3867)},t=>{"use strict";t.exports=c(4361)},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.igemBackbones=a.fetchBBB=void 0,a.fetchBBB=function(t){var c=t.toUpperCase(),e=a.igemBackbones[c];return e||(console.warn("Your backbone input ".concat(t," did not match the name of any iGEM Backbone packaged with this library.\n      Please check if the backbone you are using is listed at https://parts.igem.org/Plasmid_backbones/Assembly.\n      If you are using a custom backbone please be aware that this library does not check for the validity of your prefix and suffix.\n      You can read more about prefixes and suffixes here: http://parts.igem.org/Help:Prefix-Suffix.")),t)},a.igemBackbones={BBA_K1362091:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatataacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaatttaatacgactcactataggggaattgtgagcggataacaattccccgaattcgcggccgctt\nctagag",BBA_K823055:"accggttaatactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgtt\natgcaggcttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaat\ncaggggataacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgccc\nccctgacgagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtg\ncgctctcctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctca\ngttcggtgtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaa\ncccggtaagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtgg\ncctaactacggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaac\naaaccaccgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtc\ntgacgctcagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagtttt\naaatcaatctaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaaca\naatccagatggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtact\ngttgtaattcattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtata\natatttgcccatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaa\naacatattctcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgt\nggtattcactccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcat\ntgccatacgaaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaag\ngccgtaatatccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacgg\ntggtatatccagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatg\ngtgaaagttggaacctcttacgtgcccgatcaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtat\ncacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagataaggaggaactactatggccg\ngc",PSB1A3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatataacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1A7:"actagtagcggccgctgcaggcttataaacgcagaaaggcccacccgaaggtgagccagtgtgactctagtagagagcgttcaccgacaaacaacagata\naaacgaaaggcccagtctttcgactgagcctttcgttttatttgatgcctgggtgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttt\ntctttaaaaccgaaaagattacttcgcgttatgcaggcttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcact\ncaaaggcggtaatacggttatccacagaatcaggggataacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgc\ngttgctggcgtttttccataggctccgcccccctgacgagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagatac\ncaggcgtttccccctggaagctccctcgtgcgctctcctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgc\ntttctcatagctcacgctgtaggtatctcagttcggtgtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgc\ncttatccggtaactatcgtcttgagtccaacccggtaagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgta\nggcggtgctacagagttcttgaagtggtggcctaactacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaa\naaagagttggtagctcttgatccggcaaacaaaccaccgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctca\nagaagatcctttgatcttttctacggggtctgacgctcagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacc\ntagatccttttaaattaaaaatgaagttttaaatcaatctaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcaccta\ntctcagcgatctgtctatttcgttcatccatagttgcctgactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgc\naatgataccgcgagacccacgctcaccggctccagatttatcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatcc\ngcctccatccagtctattaattgttgccgggaagctagagtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtgg\ntgtcacgctcgtcgtttggtatggcttcattcagctccggttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctc\ncttcggtcctccgatcgttgtcagaagtaagttggccgcagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgta\nagatgcttttctgtgactggtgagtactcaaccaagtcattctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataata\nccgcgccacatagcagaactttaaaagtgctcatcattggaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgat\ngtaacccactcgtgcacccaactgatcttcagcatcttttactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaaggga\nataagggcgacacggaaatgttgaatactcatactcttcctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttg\naatgtatttagaaaaataaacaaataggggttccgcgcacatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaaccta\ntaaaaataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattgccaggcatcaaataaaacgaaa\nggctcagtcgaaagactgggcctttcgttttatctgttgtttgtcggtgaacgctctctactagagtcacactggctcaccttcgggtgggcctttctgc\ngtttatagcagaattcgcggccgcttctaga",PSB1AC3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaacaaatccag\natggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtactgttgtaa\nttcattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtataatatttg\ncccatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaaaacatat\ntctcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgtggtattc\nactccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcattgccata\ncgaaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaaggccgtaa\ntatccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacggtggtata\ntccagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatggtgaaag\nttggaacctcttacgtgcccgatcaactcgagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1AK3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgagtcccgtcaagtcagcgtaatgctctgccagtgttacaaccaattaaccaattctgattag\naaaaactcatcgagcatcaaatgaaactgcaatttattcatatcaggattatcaataccatatttttgaaaaagccgtttctgtaatgaaggagaaaact\ncaccgaggcagttccataggatggcaagatcctggtatcggtctgcgattccgactcgtccaacatcaatacaacctattaatttcccctcgtcaaaaat\naaggttatcaagtgagaaatcaccatgagtgacgactgaatccggtgagaatggcaaaagcttatgcatttctttccagacttgttcaacaggccagcca\nttacgctcgtcatcaaaatcactcgcatcaaccaaaccgttattcattcgtgattgcgcctgagcgagacgaaatacgcgatcgctgttaaaaggacaat\ntacaaacaggaatcgaatgcaaccggcgcaggaacactgccagcgcatcaacaatattttcacctgaatcaggatattcttctaatacctggaatgctgt\ntttcccggggatcgcagtggtgagtaaccatgcatcatcaggagtacggataaaatgcttgatggtcggaagaggcataaattccgtcagccagtttagt\nctgaccatctcatctgtaacatcattggcaacgctacctttgccatgtttcagaaacaactctggcgcatcgggcttcccatacaatcgatagattgtcg\ncacctgattgcccgacattatcgcgagcccatttatacccatataaatcagcatccatgttggaatttaatcgcggcctggagcaagacgtttcccgttg\naatatggctcataacaccccttgtattactgtttatgtaagcagacagttttattgttcatgatgatatatttttatcttgtgcaatgtaacatcagaga\nttttgagacacaacgtggctttgttgaataaatcgaacttttgctgagttgaaggatcagctcgagttaccaatgcttaatcagtgaggcacctatctca\ngcgatctgtctatttcgttcatccatagttgcctgactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatga\ntaccgcgagacccacgctcaccggctccagatttatcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctc\ncatccagtctattaattgttgccgggaagctagagtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtca\ncgctcgtcgtttggtatggcttcattcagctccggttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcg\ngtcctccgatcgttgtcagaagtaagttggccgcagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatg\ncttttctgtgactggtgagtactcaaccaagtcattctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcg\nccacatagcagaactttaaaagtgctcatcattggaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaac\nccactcgtgcacccaactgatcttcagcatcttttactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataag\nggcgacacggaaatgttgaatactcatactcttcctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgt\natttagaaaaataaacaaataggggttccgcgcacatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaa\nataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1AT3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgagattctcatgtttgacagcttatcatcgataagctttaatgcggtagtttatcacagttaa\nattgctaacgcagtcaggcaccgtgtatgaaatctaacaatgcgctcatcgtcatcctcggcaccgtcaccctggatgctgtaggcataggcttggttat\ngccggtactgccgggcctcttgcgggatatcgtccattccgacagcatcgccagtcactatggcgtgctgctagcgctatatgcgttgatgcaatttcta\ntgcgcacccgttctcggagcactgtccgaccgctttggccgccgcccagtcctgctcgcttcgctacttggagccactatcgactacgcgatcatggcga\nccacacccgtcctgtggatcctctacgccggacgcatcgtggccggcatcaccggcgccacaggtgcggttgctggcgcctatatcgccgacatcaccga\ntggggaagatcgggctcgccacttcgggctcatgagcgcttgtttcggcgtgggtatggtggcaggccccgtggccgggggactgttgggcgccatctcc\nttgcatgcaccattccttgcggcggcggtgctcaacggcctcaacctactactgggctgcttcctaatgcaggagtcgcataagggagagcgtcgaccga\ntgcccttgagagccttcaacccagtcagctccttccggtgggcgcggggcatgactatcgtcgccgcacttatgactgtcttctttatcatgcaactcgt\naggacaggtgccggcagcgctctgggtcattttcggcgaggaccgctttcgctggagcgcgacgatgatcggcctgtcgcttgcggtattcggaatcttg\ncacgccctcgctcaagccttcgtcactggtcccgccaccaaacgtttcggcgagaagcaggccattatcgccggcatggcggccgacgcgctgggctacg\ntcttgctggcgttcgcgacgcgaggctggatggccttccccattatgattcttctcgcttccggcggcatcgggatgcccgcgttgcaggccatgctgtc\ncaggcaggtagatgacgaccatcagggacagcttcaaggatcgctcgcggctcttaccagcctaacttcgatcactggaccgctgatcgtcacggcgatt\ntatgccgcctcggcgagcacatggaacgggttggcatggattgtaggcgccgccctataccttgtctgcctccccgcgttgcgtcgcggtgcatggagcc\ngggccacctcgacctaactcgagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcctgactccccg\ntcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagatttatcagcaat\naaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctagagtaagtagt\ntcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccggttcccaac\ngatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgcagtgttatc\nactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtcattctgagaa\ntagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattggaaaacgtt\ncttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaacccactcgtgcacccaactgatcttcagcatcttttactttcac\ncagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttcctttttcaa\ntattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgcacatttcccc\ngaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaaaaaatcctt\nagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1C3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaacaaatccagat\nggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtactgttgtaatt\ncattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtataatatttgcc\ncatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaaaacatattc\ntcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgtggtattcac\ntccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcattgccatacg\naaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaaggccgtaata\ntccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacggtggtatatc\ncagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatggtgaaagtt\nggaacctcttacgtgcccgatcaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggca\ngaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1K3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgagtcccgtcaagtcagcgtaatgctctgccagtgttacaaccaattaaccaattctgattagaa\naaactcatcgagcatcaaatgaaactgcaatttattcatatcaggattatcaataccatatttttgaaaaagccgtttctgtaatgaaggagaaaactca\nccgaggcagttccataggatggcaagatcctggtatcggtctgcgattccgactcgtccaacatcaatacaacctattaatttcccctcgtcaaaaataa\nggttatcaagtgagaaatcaccatgagtgacgactgaatccggtgagaatggcaaaagcttatgcatttctttccagacttgttcaacaggccagccatt\nacgctcgtcatcaaaatcactcgcatcaaccaaaccgttattcattcgtgattgcgcctgagcgagacgaaatacgcgatcgctgttaaaaggacaatta\ncaaacaggaatcgaatgcaaccggcgcaggaacactgccagcgcatcaacaatattttcacctgaatcaggatattcttctaatacctggaatgctgttt\ntcccggggatcgcagtggtgagtaaccatgcatcatcaggagtacggataaaatgcttgatggtcggaagaggcataaattccgtcagccagtttagtct\ngaccatctcatctgtaacatcattggcaacgctacctttgccatgtttcagaaacaactctggcgcatcgggcttcccatacaatcgatagattgtcgca\ncctgattgcccgacattatcgcgagcccatttatacccatataaatcagcatccatgttggaatttaatcgcggcctggagcaagacgtttcccgttgaa\ntatggctcataacaccccttgtattactgtttatgtaagcagacagttttattgttcatgatgatatatttttatcttgtgcaatgtaacatcagagatt\nttgagacacaacgtggctttgttgaataaatcgaacttttgctgagttgaaggatcagctcgagtgccacctgacgtctaagaaaccattattatcatga\ncattaacctataaaaataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttct\nagag",PSB1T3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgagattctcatgtttgacagcttatcatcgataagctttaatgcggtagtttatcacagttaaat\ntgctaacgcagtcaggcaccgtgtatgaaatctaacaatgcgctcatcgtcatcctcggcaccgtcaccctggatgctgtaggcataggcttggttatgc\ncggtactgccgggcctcttgcgggatatcgtccattccgacagcatcgccagtcactatggcgtgctgctagcgctatatgcgttgatgcaatttctatg\ncgcacccgttctcggagcactgtccgaccgctttggccgccgcccagtcctgctcgcttcgctacttggagccactatcgactacgcgatcatggcgacc\nacacccgtcctgtggatcctctacgccggacgcatcgtggccggcatcaccggcgccacaggtgcggttgctggcgcctatatcgccgacatcaccgatg\ngggaagatcgggctcgccacttcgggctcatgagcgcttgtttcggcgtgggtatggtggcaggccccgtggccgggggactgttgggcgccatctcctt\ngcatgcaccattccttgcggcggcggtgctcaacggcctcaacctactactgggctgcttcctaatgcaggagtcgcataagggagagcgtcgaccgatg\ncccttgagagccttcaacccagtcagctccttccggtgggcgcggggcatgactatcgtcgccgcacttatgactgtcttctttatcatgcaactcgtag\ngacaggtgccggcagcgctctgggtcattttcggcgaggaccgctttcgctggagcgcgacgatgatcggcctgtcgcttgcggtattcggaatcttgca\ncgccctcgctcaagccttcgtcactggtcccgccaccaaacgtttcggcgagaagcaggccattatcgccggcatggcggccgacgcgctgggctacgtc\nttgctggcgttcgcgacgcgaggctggatggccttccccattatgattcttctcgcttccggcggcatcgggatgcccgcgttgcaggccatgctgtcca\nggcaggtagatgacgaccatcagggacagcttcaaggatcgctcgcggctcttaccagcctaacttcgatcactggaccgctgatcgtcacggcgattta\ntgccgcctcggcgagcacatggaacgggttggcatggattgtaggcgccgccctataccttgtctgcctccccgcgttgcgtcgcggtgcatggagccgg\ngccacctcgacctaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcag\nataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag"}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.findCutSites=void 0;var n=c(28),r=c(10),g=c(29);a.default=function(t,c,e){void 0===c&&(c=[]),void 0===e&&(e={});var r=t+t,g=c.map((function(t){return"string"===typeof t?n.default[t.toLowerCase()]:t})).filter((function(t){return t})).concat(Object.values(e)).reduce((function(c,e){return(0,a.findCutSites)(e,r,t.length).forEach((function(t){return c["".concat(t.fcut,"-").concat(t.direction)]=t})),c}),{});return Object.values(g)},a.findCutSites=function(t,a,c){for(var n=t.fcut,o=t.rcut,i=t.rseq,s=[],l=(0,g.createRegex)(i,"dna"),u=l.exec(a);u;){var f=u.index;s.push({direction:1,end:f+i.length,enzyme:t,fcut:f+n,id:"",name:t.name,rcut:f+o,start:f}),u=l.exec(a)}var h=(0,g.createRegex)((0,r.reverseComplement)(i),"dna");for(u=h.exec(a);u;)f=u.index,s.push({direction:-1,end:f+i.length,enzyme:t,fcut:f+i.length-o,id:"",name:t.name,rcut:f+i.length-n,start:f}),u=h.exec(a);return s.sort((function(t,a){return t.fcut-a.fcut})).filter((function(t){return!(0===t.fcut&&0===t.rcut)})).map((function(a){return e(e({},a),{end:a.end%c,fcut:a.fcut%c,id:"".concat(t.name,"-").concat(t.rseq,"-").concat(a.fcut,"-").concat(a.direction>0?"fwd":"rev"),rcut:a.rcut%c,start:a.start%c})})).filter((function(t){return!t.enzyme.range||t.start>=t.enzyme.range.start&&t.end<=t.enzyme.range.end}))}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={aatii:{fcut:5,name:"AatII",rcut:1,rseq:"GACGTC"},abasi:{fcut:14,name:"AbaSI",rcut:12,rseq:"hmCNNNNNNNNNNN"},acc65i:{fcut:1,name:"Acc65I",rcut:5,rseq:"GGTACC"},acci:{fcut:2,name:"AccI",rcut:4,rseq:"GTMKAC"},acii:{fcut:1,name:"AciI",rcut:3,rseq:"CCGC"},acli:{fcut:2,name:"AclI",rcut:4,rseq:"AACGTT"},acui:{fcut:22,name:"AcuI",rcut:20,rseq:"CTGAAGNNNNNNNNNNNNNNNN"},afei:{fcut:3,name:"AfeI",rcut:3,rseq:"AGCGCT"},aflii:{fcut:1,name:"AflII",rcut:5,rseq:"CTTAAG"},afliii:{fcut:1,name:"AflIII",rcut:5,rseq:"ACRYGT"},agei:{fcut:1,name:"AgeI",rcut:5,rseq:"ACCGGT"},ahdi:{fcut:6,name:"AhdI",rcut:5,rseq:"GACNNNNNGTC"},alei:{fcut:5,name:"AleI",rcut:5,rseq:"CACNNNNGTG"},alui:{fcut:2,name:"AluI",rcut:2,rseq:"AGCT"},alwi:{fcut:9,name:"AlwI",rcut:10,rseq:"GGATCNNNNN"},alwni:{fcut:6,name:"AlwNI",rcut:3,rseq:"CAGNNNCTG"},apai:{fcut:5,name:"ApaI",rcut:1,rseq:"GGGCCC"},apali:{fcut:1,name:"ApaLI",rcut:5,rseq:"GTGCAC"},apeki:{fcut:1,name:"ApeKI",rcut:4,rseq:"GCWGC"},apoi:{fcut:1,name:"ApoI",rcut:5,rseq:"RAATTY"},asci:{fcut:2,name:"AscI",rcut:6,rseq:"GGCGCGCC"},asei:{fcut:2,name:"AseI",rcut:4,rseq:"ATTAAT"},asisi:{fcut:5,name:"AsiSI",rcut:3,rseq:"GCGATCGC"},avai:{fcut:1,name:"AvaI",rcut:5,rseq:"CYCGRG"},avaii:{fcut:1,name:"AvaII",rcut:4,rseq:"GGWCC"},avrii:{fcut:1,name:"AvrII",rcut:5,rseq:"CCTAGG"},baegi:{fcut:5,name:"BaeGI",rcut:1,rseq:"GKGCMC"},baei:{fcut:38,name:"BaeI",rcut:33,rseq:"NNNNNNNNNNNNNNNACNNNNGTAYCNNNNNNNNNNNN"},bamhi:{fcut:1,name:"BamHI",rcut:5,rseq:"GGATCC"},bani:{fcut:1,name:"BanI",rcut:5,rseq:"GGYRCC"},banii:{fcut:5,name:"BanII",rcut:1,rseq:"GRGCYC"},bbsi:{fcut:8,name:"BbsI",rcut:12,rseq:"GAAGACNNNNNN"},bbvci:{fcut:2,name:"BbvCI",rcut:5,rseq:"CCTCAGC"},bbvi:{fcut:13,name:"BbvI",rcut:17,rseq:"GCAGCNNNNNNNNNNNN"},bcci:{fcut:9,name:"BccI",rcut:10,rseq:"CCATCNNNNN"},bceai:{fcut:17,name:"BceAI",rcut:19,rseq:"ACGGCNNNNNNNNNNNNNN"},bcgi:{fcut:36,name:"BcgI",rcut:34,rseq:"NNNNNNNNNNNNCGANNNNNNTGCNNNNNNNNNNNN"},bcivi:{fcut:12,name:"BciVI",rcut:11,rseq:"GTATCCNNNNNN"},bcli:{fcut:1,name:"BclI",rcut:5,rseq:"TGATCA"},bcodi:{fcut:6,name:"BcoDI",rcut:10,rseq:"GTCTCNNNNN"},bfai:{fcut:1,name:"BfaI",rcut:3,rseq:"CTAG"},bfuai:{fcut:10,name:"BfuAI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bgli:{fcut:7,name:"BglI",rcut:4,rseq:"GCCNNNNNGGC"},bglii:{fcut:1,name:"BglII",rcut:5,rseq:"AGATCT"},blpi:{fcut:2,name:"BlpI",rcut:5,rseq:"GCTNAGC"},bmgbi:{fcut:3,name:"BmgBI",rcut:3,rseq:"CACGTC"},bmri:{fcut:11,name:"BmrI",rcut:10,rseq:"ACTGGGNNNNN"},bmti:{fcut:5,name:"BmtI",rcut:1,rseq:"GCTAGC"},bpmi:{fcut:22,name:"BpmI",rcut:20,rseq:"CTGGAGNNNNNNNNNNNNNNNN"},bpu10i:{fcut:2,name:"Bpu10I",rcut:5,rseq:"CCTNAGC"},bpuei:{fcut:22,name:"BpuEI",rcut:20,rseq:"CTTGAGNNNNNNNNNNNNNNNN"},bsaai:{fcut:3,name:"BsaAI",rcut:3,rseq:"YACGTR"},bsabi:{fcut:5,name:"BsaBI",rcut:5,rseq:"GATNNNNATC"},bsahi:{fcut:2,name:"BsaHI",rcut:4,rseq:"GRCGYC"},bsai:{fcut:7,name:"BsaI",rcut:11,rseq:"GGTCTCNNNNN"},bsaji:{fcut:1,name:"BsaJI",rcut:5,rseq:"CCNNGG"},bsawi:{fcut:1,name:"BsaWI",rcut:5,rseq:"WCCGGW"},bsaxi:{fcut:33,name:"BsaXI",rcut:30,rseq:"NNNNNNNNNNNNACNNNNNCTCCNNNNNNNNNN"},bseri:{fcut:16,name:"BseRI",rcut:14,rseq:"GAGGAGNNNNNNNNNN"},bseyi:{fcut:1,name:"BseYI",rcut:5,rseq:"CCCAGC"},bsgi:{fcut:22,name:"BsgI",rcut:20,rseq:"GTGCAGNNNNNNNNNNNNNNNN"},bsiei:{fcut:4,name:"BsiEI",rcut:2,rseq:"CGRYCG"},bsihkai:{fcut:5,name:"BsiHKAI",rcut:1,rseq:"GWGCWC"},bsiwi:{fcut:1,name:"BsiWI",rcut:5,rseq:"CGTACG"},bsli:{fcut:7,name:"BslI",rcut:4,rseq:"CCNNNNNNNGG"},bsmai:{fcut:6,name:"BsmAI",rcut:10,rseq:"GTCTCNNNNN"},bsmbi:{fcut:7,name:"BsmBI",rcut:11,rseq:"CGTCTCNNNNN"},bsmfi:{fcut:15,name:"BsmFI",rcut:19,rseq:"GGGACNNNNNNNNNNNNNN"},bsmi:{fcut:7,name:"BsmI",rcut:5,rseq:"GAATGCN"},bsobi:{fcut:1,name:"BsoBI",rcut:5,rseq:"CYCGRG"},bsp1286i:{fcut:5,name:"Bsp1286I",rcut:1,rseq:"GDGCHC"},bspcni:{fcut:14,name:"BspCNI",rcut:12,rseq:"CTCAGNNNNNNNNN"},bspdi:{fcut:2,name:"BspDI",rcut:4,rseq:"ATCGAT"},bspei:{fcut:1,name:"BspEI",rcut:5,rseq:"TCCGGA"},bsphi:{fcut:1,name:"BspHI",rcut:5,rseq:"TCATGA"},bspmi:{fcut:10,name:"BspMI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bspqi:{fcut:8,name:"BspQI",rcut:11,rseq:"GCTCTTCNNNN"},bsrbi:{fcut:3,name:"BsrBI",rcut:3,rseq:"CCGCTC"},bsrdi:{fcut:8,name:"BsrDI",rcut:6,rseq:"GCAATGNN"},bsrfi:{fcut:1,name:"BsrFI",rcut:5,rseq:"RCCGGY"},bsrgi:{fcut:1,name:"BsrGI",rcut:5,rseq:"TGTACA"},bsri:{fcut:6,name:"BsrI",rcut:4,rseq:"ACTGGN"},bsshii:{fcut:1,name:"BssHII",rcut:5,rseq:"GCGCGC"},bsssi:{fcut:1,name:"BssSI",rcut:5,rseq:"CACGAG"},bstapi:{fcut:7,name:"BstAPI",rcut:4,rseq:"GCANNNNNTGC"},bstbi:{fcut:2,name:"BstBI",rcut:4,rseq:"TTCGAA"},bsteii:{fcut:1,name:"BstEII",rcut:6,rseq:"GGTNACC"},bstni:{fcut:2,name:"BstNI",rcut:3,rseq:"CCWGG"},bstui:{fcut:2,name:"BstUI",rcut:2,rseq:"CGCG"},bstxi:{fcut:8,name:"BstXI",rcut:4,rseq:"CCANNNNNNTGG"},bstyi:{fcut:1,name:"BstYI",rcut:5,rseq:"RGATCY"},bstz17i:{fcut:3,name:"BstZ17I",rcut:3,rseq:"GTATAC"},bsu36i:{fcut:2,name:"Bsu36I",rcut:5,rseq:"CCTNAGG"},btgi:{fcut:1,name:"BtgI",rcut:5,rseq:"CCRYGG"},btgzi:{fcut:16,name:"BtgZI",rcut:20,rseq:"GCGATGNNNNNNNNNNNNNN"},btsci:{fcut:7,name:"BtsCI",rcut:5,rseq:"GGATGNN"},btsi:{fcut:8,name:"BtsI",rcut:6,rseq:"GCAGTGNN"},btsimuti:{fcut:7,name:"BtsIMutI",rcut:5,rseq:"CAGTGNN"},cac8i:{fcut:3,name:"Cac8I",rcut:3,rseq:"GCNNGC"},clai:{fcut:2,name:"ClaI",rcut:4,rseq:"ATCGAT"},cspci:{fcut:37,name:"CspCI",rcut:35,rseq:"NNNNNNNNNNNNNCAANNNNNGTGGNNNNNNNNNNNN"},cviaii:{fcut:1,name:"CviAII",rcut:3,rseq:"CATG"},"cviki-1":{fcut:2,name:"CviKI-1",rcut:2,rseq:"RGCY"},cviqi:{fcut:1,name:"CviQI",rcut:3,rseq:"GTAC"},ddei:{fcut:1,name:"DdeI",rcut:4,rseq:"CTNAG"},dpni:{fcut:3,name:"DpnI",rcut:3,rseq:"GmATC"},dpnii:{fcut:0,name:"DpnII",rcut:4,rseq:"GATC"},drai:{fcut:3,name:"DraI",rcut:3,rseq:"TTTAAA"},draiii:{fcut:6,name:"DraIII",rcut:3,rseq:"CACNNNGTG"},drdi:{fcut:7,name:"DrdI",rcut:5,rseq:"GACNNNNNNGTC"},eaei:{fcut:1,name:"EaeI",rcut:5,rseq:"YGGCCR"},eagi:{fcut:1,name:"EagI",rcut:5,rseq:"CGGCCG"},eari:{fcut:7,name:"EarI",rcut:10,rseq:"CTCTTCNNNN"},ecii:{fcut:17,name:"EciI",rcut:15,rseq:"GGCGGANNNNNNNNNNN"},eco53ki:{fcut:3,name:"Eco53kI",rcut:3,rseq:"GAGCTC"},econi:{fcut:5,name:"EcoNI",rcut:6,rseq:"CCTNNNNNAGG"},ecoo109i:{fcut:2,name:"EcoO109I",rcut:5,rseq:"RGGNCCY"},ecori:{fcut:1,name:"EcoRI",rcut:5,rseq:"GAATTC"},ecorv:{fcut:3,name:"EcoRV",rcut:3,rseq:"GATATC"},esp3i:{fcut:7,name:"Esp3I",rcut:11,rseq:"CGTCTCNNNNN"},fati:{fcut:0,name:"FatI",rcut:4,rseq:"CATG"},faui:{fcut:9,name:"FauI",rcut:11,rseq:"CCCGCNNNNNN"},fnu4hi:{fcut:2,name:"Fnu4HI",rcut:3,rseq:"GCNGC"},foki:{fcut:14,name:"FokI",rcut:18,rseq:"GGATGNNNNNNNNNNNNN"},fsei:{fcut:6,name:"FseI",rcut:2,rseq:"GGCCGGCC"},fspei:{fcut:15,name:"FspEI",rcut:19,rseq:"CmCNNNNNNNNNNNNNNNN"},fspi:{fcut:3,name:"FspI",rcut:3,rseq:"TGCGCA"},haeii:{fcut:5,name:"HaeII",rcut:1,rseq:"RGCGCY"},haeiii:{fcut:2,name:"HaeIII",rcut:2,rseq:"GGCC"},hgai:{fcut:10,name:"HgaI",rcut:15,rseq:"GACGCNNNNNNNNNN"},hhai:{fcut:3,name:"HhaI",rcut:1,rseq:"GCGC"},hincii:{fcut:3,name:"HincII",rcut:3,rseq:"GTYRAC"},hindiii:{fcut:1,name:"HindIII",rcut:5,rseq:"AAGCTT"},hinfi:{fcut:1,name:"HinfI",rcut:4,rseq:"GANTC"},hinp1i:{fcut:1,name:"HinP1I",rcut:3,rseq:"GCGC"},hpai:{fcut:3,name:"HpaI",rcut:3,rseq:"GTTAAC"},hpaii:{fcut:1,name:"HpaII",rcut:3,rseq:"CCGG"},hphi:{fcut:13,name:"HphI",rcut:12,rseq:"GGTGANNNNNNNN"},hpy166ii:{fcut:3,name:"Hpy166II",rcut:3,rseq:"GTNNAC"},hpy188i:{fcut:3,name:"Hpy188I",rcut:2,rseq:"TCNGA"},hpy188iii:{fcut:2,name:"Hpy188III",rcut:4,rseq:"TCNNGA"},hpy99i:{fcut:5,name:"Hpy99I",rcut:0,rseq:"CGWCG"},hpyav:{fcut:11,name:"HpyAV",rcut:10,rseq:"CCTTCNNNNNN"},hpych4iii:{fcut:3,name:"HpyCH4III",rcut:2,rseq:"ACNGT"},hpych4iv:{fcut:1,name:"HpyCH4IV",rcut:3,rseq:"ACGT"},hpych4v:{fcut:2,name:"HpyCH4V",rcut:2,rseq:"TGCA"},"i-ceui":{fcut:18,name:"I-CeuI",rcut:14,rseq:"TAACTATAACGGTCCTAAGGTAGCGAA"},"i-scei":{fcut:9,name:"I-SceI",rcut:5,rseq:"TAGGGATAACAGGGTAAT"},kasi:{fcut:1,name:"KasI",rcut:5,rseq:"GGCGCC"},kpni:{fcut:5,name:"KpnI",rcut:1,rseq:"GGTACC"},lpnpi:{fcut:15,name:"LpnPI",rcut:19,rseq:"CmCDGNNNNNNNNNNNNNN"},mboi:{fcut:0,name:"MboI",rcut:4,rseq:"GATC"},mboii:{fcut:13,name:"MboII",rcut:12,rseq:"GAAGANNNNNNNN"},mfei:{fcut:1,name:"MfeI",rcut:5,rseq:"CAATTG"},mluci:{fcut:0,name:"MluCI",rcut:4,rseq:"AATT"},mlui:{fcut:1,name:"MluI",rcut:5,rseq:"ACGCGT"},mlyi:{fcut:10,name:"MlyI",rcut:10,rseq:"GAGTCNNNNN"},mmei:{fcut:26,name:"MmeI",rcut:24,rseq:"TCCRACNNNNNNNNNNNNNNNNNNNN"},mnli:{fcut:11,name:"MnlI",rcut:10,rseq:"CCTCNNNNNNN"},msci:{fcut:3,name:"MscI",rcut:3,rseq:"TGGCCA"},msei:{fcut:1,name:"MseI",rcut:3,rseq:"TTAA"},msli:{fcut:5,name:"MslI",rcut:5,rseq:"CAYNNNNRTG"},mspa1i:{fcut:3,name:"MspA1I",rcut:3,rseq:"CMGCKG"},mspi:{fcut:1,name:"MspI",rcut:3,rseq:"CCGG"},mspji:{fcut:14,name:"MspJI",rcut:18,rseq:"mCNNRNNNNNNNNNNNNN"},mwoi:{fcut:7,name:"MwoI",rcut:4,rseq:"GCNNNNNNNGC"},naei:{fcut:3,name:"NaeI",rcut:3,rseq:"GCCGGC"},nari:{fcut:2,name:"NarI",rcut:4,rseq:"GGCGCC"},ncii:{fcut:2,name:"NciI",rcut:3,rseq:"CCSGG"},ncoi:{fcut:1,name:"NcoI",rcut:5,rseq:"CCATGG"},ndei:{fcut:2,name:"NdeI",rcut:4,rseq:"CATATG"},ngomiv:{fcut:1,name:"NgoMIV",rcut:5,rseq:"GCCGGC"},nhei:{fcut:1,name:"NheI",rcut:5,rseq:"GCTAGC"},nlaiii:{fcut:4,name:"NlaIII",rcut:0,rseq:"CATG"},nlaiv:{fcut:3,name:"NlaIV",rcut:3,rseq:"GGNNCC"},nmeaiii:{fcut:26,name:"NmeAIII",rcut:25,rseq:"GCCGAGNNNNNNNNNNNNNNNNNNNN"},noti:{fcut:2,name:"NotI",rcut:6,rseq:"GCGGCCGC"},nrui:{fcut:3,name:"NruI",rcut:3,rseq:"TCGCGA"},nsii:{fcut:5,name:"NsiI",rcut:1,rseq:"ATGCAT"},nspi:{fcut:5,name:"NspI",rcut:1,rseq:"RCATGY"},paci:{fcut:5,name:"PacI",rcut:3,rseq:"TTAATTAA"},paer7i:{fcut:1,name:"PaeR7I",rcut:5,rseq:"CTCGAG"},pcii:{fcut:1,name:"PciI",rcut:5,rseq:"ACATGT"},pflfi:{fcut:4,name:"PflFI",rcut:5,rseq:"GACNNNGTC"},pflmi:{fcut:7,name:"PflMI",rcut:4,rseq:"CCANNNNNTGG"},"pi-pspi":{fcut:17,name:"PI-PspI",rcut:13,rseq:"TGGCAAACAGCTATTATGGGTATTATGGGT"},"pi-scei":{fcut:15,name:"PI-SceI",rcut:11,rseq:"ATCTATGTCGGGTGCGGAGAAAGAGGTAATGAAATGG"},plei:{fcut:9,name:"PleI",rcut:10,rseq:"GAGTCNNNNN"},pluti:{fcut:5,name:"PluTI",rcut:1,rseq:"GGCGCC"},pmei:{fcut:4,name:"PmeI",rcut:4,rseq:"GTTTAAAC"},pmli:{fcut:3,name:"PmlI",rcut:3,rseq:"CACGTG"},ppumi:{fcut:2,name:"PpuMI",rcut:5,rseq:"RGGWCCY"},pshai:{fcut:5,name:"PshAI",rcut:5,rseq:"GACNNNNGTC"},psii:{fcut:3,name:"PsiI",rcut:3,rseq:"TTATAA"},pspgi:{fcut:0,name:"PspGI",rcut:5,rseq:"CCWGG"},pspomi:{fcut:1,name:"PspOMI",rcut:5,rseq:"GGGCCC"},pspxi:{fcut:2,name:"PspXI",rcut:6,rseq:"VCTCGAGB"},psti:{fcut:5,name:"PstI",rcut:1,rseq:"CTGCAG"},pvui:{fcut:4,name:"PvuI",rcut:2,rseq:"CGATCG"},pvuii:{fcut:3,name:"PvuII",rcut:3,rseq:"CAGCTG"},rsai:{fcut:2,name:"RsaI",rcut:2,rseq:"GTAC"},rsrii:{fcut:2,name:"RsrII",rcut:5,rseq:"CGGWCCG"},saci:{fcut:5,name:"SacI",rcut:1,rseq:"GAGCTC"},sacii:{fcut:4,name:"SacII",rcut:2,rseq:"CCGCGG"},sali:{fcut:1,name:"SalI",rcut:5,rseq:"GTCGAC"},sapi:{fcut:8,name:"SapI",rcut:11,rseq:"GCTCTTCNNNN"},sau3ai:{fcut:0,name:"Sau3AI",rcut:4,rseq:"GATC"},sau96i:{fcut:1,name:"Sau96I",rcut:4,rseq:"GGNCC"},sbfi:{fcut:6,name:"SbfI",rcut:2,rseq:"CCTGCAGG"},scai:{fcut:3,name:"ScaI",rcut:3,rseq:"AGTACT"},scrfi:{fcut:2,name:"ScrFI",rcut:3,rseq:"CCNGG"},sexai:{fcut:1,name:"SexAI",rcut:6,rseq:"ACCWGGT"},sfani:{fcut:10,name:"SfaNI",rcut:14,rseq:"GCATCNNNNNNNNN"},sfci:{fcut:1,name:"SfcI",rcut:5,rseq:"CTRYAG"},sfii:{fcut:8,name:"SfiI",rcut:5,rseq:"GGCCNNNNNGGCC"},sfoi:{fcut:3,name:"SfoI",rcut:3,rseq:"GGCGCC"},sgrai:{fcut:2,name:"SgrAI",rcut:6,rseq:"CRCCGGYG"},smai:{fcut:3,name:"SmaI",rcut:3,rseq:"CCCGGG"},smli:{fcut:1,name:"SmlI",rcut:5,rseq:"CTYRAG"},snabi:{fcut:3,name:"SnaBI",rcut:3,rseq:"TACGTA"},spei:{fcut:1,name:"SpeI",rcut:5,rseq:"ACTAGT"},sphi:{fcut:5,name:"SphI",rcut:1,rseq:"GCATGC"},srfi:{fcut:4,name:"SrfI",rcut:4,rseq:"GCCCGGGC"},sspi:{fcut:3,name:"SspI",rcut:3,rseq:"AATATT"},stui:{fcut:3,name:"StuI",rcut:3,rseq:"AGGCCT"},styd4i:{fcut:0,name:"StyD4I",rcut:5,rseq:"CCNGG"},styi:{fcut:1,name:"StyI",rcut:5,rseq:"CCWWGG"},swai:{fcut:4,name:"SwaI",rcut:4,rseq:"ATTTAAAT"},taqi:{fcut:1,name:"TaqI",rcut:3,rseq:"TCGA"},tfii:{fcut:1,name:"TfiI",rcut:4,rseq:"GAWTC"},tsei:{fcut:1,name:"TseI",rcut:4,rseq:"GCWGC"},tsp45i:{fcut:0,name:"Tsp45I",rcut:5,rseq:"GTSAC"},tspmi:{fcut:1,name:"TspMI",rcut:5,rseq:"CCCGGG"},tspri:{fcut:9,name:"TspRI",rcut:0,rseq:"NNCASTGNN"},tth111i:{fcut:4,name:"Tth111I",rcut:5,rseq:"GACNNNGTC"},xbai:{fcut:1,name:"XbaI",rcut:5,rseq:"TCTAGA"},xcmi:{fcut:8,name:"XcmI",rcut:7,rseq:"CCANNNNNNNNNTGG"},xhoi:{fcut:1,name:"XhoI",rcut:5,rseq:"CTCGAG"},xmai:{fcut:1,name:"XmaI",rcut:5,rseq:"CCCGGG"},xmni:{fcut:5,name:"XmnI",rcut:5,rseq:"GAANNNNTTC"},zrai:{fcut:3,name:"ZraI",rcut:3,rseq:"GACGTC"}}},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createRegex=void 0;var e=c(10),n=c(15);a.default=function(t,a,c,g){if(void 0===a&&(a=0),void 0===c&&(c=""),!t||!t.length||!c||!c.length)return[];if(t.length-a<3)return console.warn("Search too broad, please narrow parameters. Less than 3 symbols to match: %d",t.length-a),[];var o=r(t,c,a,!0,g);if(["dna","rna"].includes(g)){var i=(0,e.complement)(c).compSeq,s=r((0,n.reverse)(t),i,a,!1,g);o.push.apply(o,s)}return o.length>4e3?(console.error("Search too broad, %d matches. Please narrow parameters.",o.length),[]):o.sort((function(t,a){return t.start-a.start}))};var r=function(t,c,e,n,r){if(e>0)return g(t,c,e,n,r);for(var o=c.length,i=(0,a.createRegex)(t,r),s=i.exec(c),l=[];s;){var u=s.index%o,f=(u+t.length)%o||o;l.push({direction:n?1:-1,end:f,id:"".concat(u,"-").concat(n?"fwd":"rev"),name:"",start:u}),s=i.exec(c)}return l},g=function(t,a,c,e,r){for(var g=(0,n.getAlphabet)(r),o=[],i=0;i<a.length-t.length;i+=1){for(var s=0,l=0;l<t.length;l+=1){var u=a[i+l].toLowerCase(),f=t[l].toLowerCase();if(n.nucleotides[f]?u!==f&&(s+=1):g[f]&&(g[f][u]||(s+=1)),s>c)break}if(s<=c){var h=(i+t.length)%a.length||a.length;o.push({direction:e?1:-1,end:h,id:"".concat(i,"-").concat(e?"fwd":"rev"),name:"",start:i})}}return o};a.createRegex=function(t,a){var c=(0,n.getAlphabet)(a),e=t.toLowerCase().split("").map((function(t){return c[t]?"(".concat(Object.keys(c[t]).join("|"),")"):t})).join("");return new RegExp(e.trim(),"gi")}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var c=function(t,a){if(t===a)return!0;if("object"===typeof t&&null!==t&&"object"===typeof a&&null!==a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(var e in t){if(!Object.prototype.hasOwnProperty.call(a,e))return!1;if(!c(t[e],a[e]))return!1}return!0}return!1};a.default=c},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(32),o=c(30),i=c(33),s=c(48),l=c(39),u=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.shouldComponentUpdate=function(t,c){return!(0,o.default)(t,a.props)||!(0,o.default)(c,a.state)},a.linearProps=function(){var t=a.props,c=t.seq,e=t.size,n=a.props.zoom.linear,r=Math.min(Math.round(.1*n+9.5),18),g=Math.round(e.width/r*1.4)||1;return n<=5?g*=3:n<=10?g*=2:n>70&&(g=Math.round(g*(70/n))),g<c.length&&(e.width-=28),{Circular:!1,Linear:!0,bpsPerBlock:g,charWidth:e.width/g,elementHeight:16,lineHeight:1.4*r,seqFontSize:r,size:e,zoom:{linear:n}}},a.circularProps=function(){var t=a.props,c=t.seq.length,e=t.size,n=a.props.zoom.circular,r={x:e.width/2,y:e.height/2},g=Math.min(e.height,e.width),o=c*Math.exp(Math.log(50/c)/-Math.pow(100,.83)),i=.34*g;return{Circular:!0,Linear:!1,bpsOnArc:o,center:r,radius:0===(i=i*Math.PI/c*o/(Math.PI*(o/c)))?1:i,size:e,yDiff:0,zoom:{circular:n}}},a}return e(a,t),a.prototype.render=function(){var t=this,a=this.props,c=a.Circular,e=a.cutSites,g=a.seq;return r.createElement("div",{className:"la-vz-viewer-container"},c?r.createElement(l.default.Consumer,null,(function(a){var c=a.circular,g=a.setCentralIndex;return r.createElement(i.default,n({},t.props,t.state,t.circularProps(),{centralIndex:c,cutSites:e,primers:[],setCentralIndex:g,showPrimers:!1}))})):r.createElement(s.default,n({},this.props,this.state,this.linearProps(),{primers:[],seqLength:g.length,showPrimers:!1})))},a}(r.Component);a.default=g.withSize({monitorHeight:!0})(u)},t=>{"use strict";t.exports=c(5690)},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.Arc=a.RENDER_SEQ_LENGTH_CUTOFF=a.CHAR_WIDTH=void 0;var r=c(1),g=c(34),o=c(30),i=c(35),s=c(36),l=c(39),u=c(41),f=c(42),h=c(43),d=c(44),p=c(45),m=c(47);a.CHAR_WIDTH=7.801,a.RENDER_SEQ_LENGTH_CUTOFF=250;var v=function(t){function c(a){var c=t.call(this,a)||this;return c.shouldComponentUpdate=function(t){return!(0,o.default)(t,c.props)},c.getRotation=function(t){var a=c.props.center,e=c.state.seqLength,n=c.context.circular;return"rotate(".concat((t-n)/e*360||0,", ").concat(a.x,", ").concat(a.y,")")},c.findCoor=function(t,a,e){var n=c.props.center,r=c.state.seqLength,g=((e?t-c.context.circular:t)/r-.25)*Math.PI*2,o=Math.cos(g)*a,i=Math.sin(g)*a;return{x:n.x+o,y:n.y+i}},c.rotateCoor=function(t,a){var e=c.props.center,n=a*(Math.PI/180),r=Math.cos(n),g=Math.sin(n),o=t.x-e.x,i=t.y-e.y,s=r*o-g*i,l=g*o+r*i;return{x:e.x+s,y:e.y+l}},c.genArc=function(t){var a=t.arrowFWD,e=t.arrowREV,n=t.innerRadius,r=t.largeArc,g=t.length,o=t.outerRadius,i=t.sweepFWD,s=c.props.radius,l=c.state,u=l.lineHeight,f=l.seqLength,h=void 0===t.offset?0:t.offset,d=c.findCoor(h,n),p=c.findCoor(h,o),m=c.findCoor(g+h,n),v=c.findCoor(g+h,o),y="",b="";if(e||a){var C=u/4/s,N=360*Math.min(C/2,g/f);if(e){d=c.rotateCoor(d,N),p=c.rotateCoor(p,N);var w=c.findCoor(0,(n+o)/2);y="L ".concat(w.x," ").concat(w.y)}else{m=c.rotateCoor(m,-N),v=c.rotateCoor(v,-N);var x=c.findCoor(g,(n+o)/2);b="L ".concat(x.x," ").concat(x.y)}}var A=r?1:0,G=i?1:0,_=i?0:1;return"M ".concat(m.x," ").concat(m.y,"\n      A ").concat(n," ").concat(n,", 0, ").concat(A,", ").concat(_,", ").concat(d.x," ").concat(d.y,"\n      L ").concat(d.x," ").concat(d.y,"\n      ").concat(y,"\n      L ").concat(p.x," ").concat(p.y,"\n      A ").concat(o," ").concat(o,", 0, ").concat(A,", ").concat(G,", ").concat(v.x," ").concat(v.y,"\n      ").concat(b,"\n      Z")},c.state={annotationsInRows:[],inlinedLabels:[],lineHeight:0,outerLabels:[],primersInRows:[],seqLength:0},c}return e(c,t),c.prototype.render=function(){var t=this.props,a=t.center,c=t.compSeq,e=t.cutSites,g=t.inputRef,o=t.mouseEvent,i=t.name,s=t.onUnmount,l=t.radius,v=t.search,y=t.seq,b=t.showIndex,C=t.showPrimers,N=t.size,w=t.yDiff,x=this.state,A=x.annotationsInRows,G=x.inlinedLabels,_=x.lineHeight,q=x.outerLabels,S=x.primersInRows,I=x.seqLength,T=this,k={center:a,findCoor:T.findCoor,genArc:T.genArc,getRotation:T.getRotation,inputRef:g,lineHeight:_,radius:l,rotateCoor:T.rotateCoor,seqLength:I},E=4+A.length;C&&(E+=S.length);var O="la-vz-".concat(i,"-viewer-circular");return N.height?r.createElement("svg",{ref:g(O,{type:"SEQ"}),className:"la-vz-circular-viewer",height:N.height,id:O,width:N.width>=0?N.width:0,onMouseDown:o,onMouseMove:o,onMouseUp:o},r.createElement("g",{className:"la-vz-circular-root",transform:"translate(0, ".concat(w,")")},r.createElement(m.default,n({},k,{seq:y,totalRows:E,onUnmount:s})),r.createElement(f.default,n({},k,{cutSites:e,selectionRows:4})),r.createElement(d.default,n({},k,{compSeq:c,name:i,seq:y,showIndex:b,size:N,totalRows:E,yDiff:w})),r.createElement(h.Find,{center:k.center,findCoor:k.findCoor,genArc:k.genArc,getRotation:k.getRotation,highlights:this.props.highlights,inputRef:k.inputRef,lineHeight:k.lineHeight,radius:k.radius,rotateCoor:k.rotateCoor,search:v,seq:y,seqLength:k.seqLength,totalRows:E,onUnmount:s}),r.createElement(u.default,n({},k,{annotations:A,inlinedAnnotations:G,rowsToSkip:0,size:N})),r.createElement(p.default,n({},k,{labels:q,size:N,yDiff:w})))):null},c.contextType=l.default,c.getDerivedStateFromProps=function(t){var c=(0,i.stackElements)(t.annotations,t.seq.length),e=(0,g.default)(t.primers,t.seq),r=(0,i.stackElements)(e,t.seq.length),o=t.seq.length,s=t.cutSites,l=t.radius-42,u=[],f=[];return c.forEach((function(t){var c=l*Math.PI;t.forEach((function(t){var e=(t.name.length+2)*a.CHAR_WIDTH,n=t.end-t.start;if(t.start>=t.end&&(n+=o),e<2*c*(n/o))u.push(t.id);else{var r=t.end,g=t.id,i=t.name,s=t.start;f.push({end:r,id:g,name:i,start:s,type:"annotation"})}})),l-=14})),s.forEach((function(t){return f.push(n(n(n({},t.enzyme),t),{start:t.fcut,type:"enzyme"}))})),f.sort((function(t,a){return Math.min(t.start,t.end)-Math.min(a.start,a.end)})),{annotationsInRows:c,inlinedLabels:u,lineHeight:14,outerLabels:f,primersInRows:r,seqLength:t.seq.length}},c}(r.Component);a.Arc=function(t){var a=t.className,c=t.color,e=t.direction,n=t.genArc,g=t.getRotation,o=t.inputRef,i=t.lineHeight,s=t.radius,l=t.seqLength,u=t.start,f=t.end;f<u&&(f+=l);var h=Math.abs(f-u),d=n({innerRadius:s-i/2,largeArc:h>l/2,length:h,outerRadius:s+i/2,sweepFWD:!0}),p="".concat(a,"-circular-").concat(u,"-").concat(f,"-").concat(e);return r.createElement("path",{key:p,ref:o(p,{end:f,ref:p,start:u,type:"FIND"}),className:a,cursor:"pointer",d:d,fill:c,id:p,shapeRendering:"auto",stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1,transform:g(u)})},a.default=(0,s.default)(v)},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var n=c(10),r=c(15);a.default=function(t,a){var c=(0,n.complement)(a),e=c.compSeq,r=c.seq;return o(t,r,1).concat(o(t,e,-1))};var g=function(t,a){var c=t,e=(0,r.returnRanges)((0,r.getMismatchIndices)(t,a));if(e.length>0){for(var n=0;n<e.length;){var g=e.slice(0,e.length-n);if(g.length<2)break;if(g.reduce((function(t,a){return t+(a[1]+1-a[0])}),0)/t.slice(0,g[g.length-1][1]+1).length>.25){e=e.slice(e.length-n,e.length).concat([[0,e[e.length-1-n][1]]]),c=t.slice(e[e.length-1][1]+1);break}n+=1}c=t.slice(e[e.length-1][1]+1)}return{annealSequence:c,mismatches:e=e.map((function(t){return{end:t[1]+1,start:t[0]}}))}},o=function(t,a,c){void 0===t&&(t=[]);var n=[],o=1===c;return t.forEach((function(t){var i=t.overhang,s=void 0===i?"":i,l=t.seq,u=t.strict;if(u=u||!1,""!==l){var f=(l=l.toLowerCase()).length,h=a.toLowerCase(),d=h.length,p=h+h.substring(0,f),m=l,v=[],y=v.matchSeq,b=v.mismatches;y=f<10?l:l.substring(f-10,f),y=o?y:(0,r.reverse)(y);for(var C=new RegExp(y,"gi"),N=C.exec(p),w=(s||"").concat(l),x=function(){var a,i,v,x,A,G;if(N.index<d){var _=o?N.index+y.length-f<0:N.index+f>d,q=o?d-(N.index+y.length)<0:N.index+y.length>d,S=_||q,I=o?N.index-f+y.length:N.index,T=I+f,k=h.substring(I,T);S&&(o&&(I=_?d-(f-N.index-y.length):N.index-f+y.length),T=f-(d-I),k=h.substring(I,d)+h.substring(0,T)),k=o?k:(0,r.reverse)(k);var E=(0,r.calcTm)(l,k);if((E>=t.tm||E>40)&&(o&&T<d||I<d)&&N.index<d){s?(o&&(I-=s.length)<0&&(I=d+I),o||(T+=s.length)>d&&(T-=d),i=(a=g(w,"X".repeat(s.length).concat(k))).mismatches,b=void 0===i?[]:i,v=a.annealSequence,m=void 0===v?"":v,b[0]&&b[0].start-s.length===0?b[0].start=0:b.push({end:s.length,start:0})):(A=(x=g(l,k)).mismatches,b=void 0===A?[]:A,G=x.annealSequence,m=void 0===G?"":G);var O={};b=b.sort((function(t,a){return t.start<a.start})).map((function(t){return{end:t.end,id:"".concat(t.start,"-").concat(t.end),start:t.start}})).filter((function(t){return!O[t.id]&&(O[t.id]=!0,!0)})).map((function(t){return{end:t.end,start:t.start}})),(u&&b.length<1||!u)&&n.push(e(e({},t),{annealSequence:m,direction:c,end:T,id:"".concat(t.id,"-").concat(I),mismatches:b,seq:w,start:I,strict:u}))}}N=C.exec(p)};N;)x()}})),n}},function(t,a){"use strict";var c=this&&this.__spreadArray||function(t,a,c){if(c||2===arguments.length)for(var e,n=0,r=a.length;n<r;n++)!e&&n in a||(e||(e=Array.prototype.slice.call(a,0,n)),e[n]=a[n]);return t.concat(e||Array.prototype.slice.call(a))};Object.defineProperty(a,"__esModule",{value:!0}),a.createSingleRows=a.createMultiRows=a.stackElements=void 0;var e=function(t){return t[t.length-1]};a.stackElements=function(t,a){return c([],t,!0).reduce((function(t,c){var n=t.findIndex((function(t){return c.end!==c.start&&(e(t).end<=e(t).start?e(t).end+a<=c.start:c.end>c.start?e(t).end<=c.start:e(t).end<c.start&&c.end<(n=t,n[0]).start);var n}));return n>-1?t[n].push(c):t.push([c]),t}),[])},a.createMultiRows=function(t,a,c){for(var e=new Array(c),n=0;n<c;n+=1){e[n]=[];for(var r=0;r<t.length;r+=1)e[n][r]=[]}for(n=0;n<t.length;n+=1)for(r=0;r<t[n].length;r+=1)if(t[n][r].start<t[n][r].end)for(var g=Math.max(0,Math.floor(t[n][r].start/a)),o=Math.floor((t[n][r].end-1)/a);g<=o&&g<c;)e[g][n].push(t[n][r]),g+=1;else if(t[n][r].end<t[n][r].start){var i=Math.floor((t[n][r].end-1)/a);for(0===t[n][r].end&&(i=-1);i>=0&&i<e.length;)e[i][n].push(t[n][r]),i-=1;for(var s=Math.floor(t[n][r].start/a);s<c;)e[s][n].push(t[n][r]),s+=1}else if(t[n][r].end===t[n][r].start){for(var l=0;l<e.length;l+=1)e[l][n].push(t[n][r]);if(0===t[n][r].end)continue;e[s=Math.floor(t[n][r].start/a)][n].push(t[n][r])}for(n=0;n<c;n+=1)e[n]=e[n].filter((function(t){return t[0]}));return e},a.createSingleRows=function(t,a,c,e){void 0===e&&(e=!0);for(var n=new Array(c),r=0;r<c;r+=1)n[r]=[];var g=function(r){var g=t[r],o=g.end,i=g.start;if(void 0!==t[r].fcut){var s=t[r],l=s.fcut,u=s.rcut;i=l>o||l<i?l:i,o=u>o||u<i?u:o}if(i<o)for(var f=Math.floor(i/a),h=Math.floor((o-1)/a);f<=h&&f<c;)n[f].push(t[r]),f+=1;else{for(var d=Math.floor(o/a);d>=0;)n[d].push(t[r]),d-=1;for(var p=Math.floor(i/a);p<c;)(e||n[p].every((function(a){return a.id!==t[r].id})))&&n[p].push(t[r]),p+=1}};for(r=0;r<t.length;r+=1)g(r);return n}},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=c(37),n=c(40);a.default=function(t){return(0,n.default)((0,e.default)(t))}},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)},r=this&&this.__awaiter||function(t,a,c,e){return new(c||(c=Promise))((function(n,r){function g(t){try{i(e.next(t))}catch(a){r(a)}}function o(t){try{i(e.throw(t))}catch(a){r(a)}}function i(t){var a;t.done?n(t.value):(a=t.value,a instanceof c?a:new c((function(t){t(a)}))).then(g,o)}i((e=e.apply(t,a||[])).next())}))},g=this&&this.__generator||function(t,a){var c,e,n,r,g={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;g;)try{if(c=1,e&&(n=2&r[0]?e.return:r[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,r[1])).done)return n;switch(e=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return g.label++,{value:r[1],done:!1};case 5:g.label++,e=r[1],r=[0];continue;case 7:r=g.ops.pop(),g.trys.pop();continue;default:if(!(n=(n=g.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){g=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){g.label=r[1];break}if(6===r[0]&&g.label<n[1]){g.label=n[1],n=r;break}if(n&&g.label<n[2]){g.label=n[2],g.ops.push(r);break}n[2]&&g.ops.pop(),g.trys.pop();continue}r=a.call(t,g)}catch(o){r=[6,o],e=0}finally{c=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(a,"__esModule",{value:!0});var o=c(1),i=c(38),s=c(39);a.default=function(t){var a;return a=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;return c.clickedOnce=null,c.clickedTwice=null,c.handleKeyPress=function(t){var a=c.keypressMap(t);a&&c.handleSeqInteraction(a)},c.keypressMap=function(t){var a=c.props.copyEvent;if(a&&a(t))return"Copy";var e=t.key,n=t.shiftKey;switch(e){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return n?"Shift".concat(e):e;default:return null}},c.handleSeqInteraction=function(t){return r(c,void 0,void 0,(function(){var a,c,e,n,r,o,i,s,l,u,f,h,d,p;return g(this,(function(g){switch(a=this.props,c=a.Linear,e=a.seq,n=e.length,r=this.props.bpsPerBlock,o=void 0===r?Math.max(Math.floor(n/20),1):r,t){case"SelectAll":this.selectAllHotkey();break;case"Copy":this.handleCopy();break;case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"ShiftArrowUp":case"ShiftArrowRight":case"ShiftArrowDown":case"ShiftArrowLeft":if(i=this.props,s=i.selection,l=i.setSelection,u=s.end,f=s.start,c){h=s.clockwise,d=u,"ArrowUp"===t||"ShiftArrowUp"===t?d-=n/o>1?o:1:"ArrowRight"===t||"ShiftArrowRight"===t?d+=1:"ArrowDown"===t||"ShiftArrowDown"===t?d+=n/o>1?o:1:"ArrowLeft"!==t&&"ShiftArrowLeft"!==t||(d-=1),d<=-1&&(d=n+d),d>=n+1&&(d-=n),p=Math.abs(f-u),h=0===p?"ArrowRight"===t||"ShiftArrowRight"===t||"ArrowDown"===t||"ShiftArrowDown"===t:h,d===f||t.startsWith("Shift")?t.startsWith("Shift")&&l({clockwise:h,end:d,ref:"",start:f}):l({clockwise:!0,end:d,ref:"",start:d});break}}return[2]}))}))},c.handleCopy=function(){var t=c.props,a=t.selection,e=a.end,n=a.ref,r=a.start,g=t.seq;if(document){var o=document.activeElement,i=document.createElement("textarea");i.innerText="ALL"===n?g:g.substring(r,e),document.body&&document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove(),o&&o.focus()}},c.selectAllHotkey=function(){var t=c.props,a=t.selection,e=t.selection.start;(0,t.setSelection)(n(n({},a),{clockwise:!0,end:e,ref:"ALL",start:e}))},c.handleTripleClick=function(){c.selectAllHotkey()},c.resetClicked=(0,i.default)((function(){c.clickedOnce=null,c.clickedTwice=null}),250),c.handleMouseEvent=function(t){var a=c.props.mouseEvent;"mouseup"===t.type&&(c.resetClicked(),c.clickedOnce===t.target&&c.clickedTwice===t.target?(c.handleTripleClick(),c.resetClicked()):c.clickedOnce===t.target&&null===c.clickedTwice?(c.clickedOnce=t.target,c.clickedTwice=t.target,c.resetClicked()):(c.clickedOnce=t.target,c.resetClicked()));var e=t.button,n=t.ctrlKey,r="mousedown"===t.type&&0===e&&n;0!==t.button||r||a(t)},c.handleScrollEvent=function(t){var a=c.props,e=a.Linear,n=a.rotateOnScroll,r=a.seq;if(!e&&n){var g=r.length*(t.deltaY/5e3);0===(g=Math.floor(g))&&(g=t.deltaY>0?1:-1);var o=c.context.circular+g;o=(o+r.length)%r.length,c.context.setCentralIndex("circular",o)}},c.render=function(){return o.createElement("div",{ref:function(t){c.eventRouter=t},className:"la-vz-viewer-event-router",id:"la-vz-".concat(c.props.Circular?"circular":"linear","-event-router"),role:"presentation",tabIndex:-1,onKeyDown:c.handleKeyPress,onMouseMove:c.props.mouseEvent,onWheel:c.handleScrollEvent},o.createElement(t,n({},c.props,{mouseEvent:c.handleMouseEvent})))},c}return e(c,a),c}(o.PureComponent),a.displayName="WithEventsProps",a.contextType=s.default,a}},(t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,a,c){var e;return void 0===c&&(c=!0),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var g=function(){e=null,c||t.apply(this,n)},o=c&&!e;clearTimeout(e),e=setTimeout(g,a),o&&t.apply(this,n)}}},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=c(1).createContext({circular:0,linear:0,setCentralIndex:function(t,a){}});e.displayName="CentralIndexContext",a.default=e},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionContext=a.defaultSelection=void 0;var r=c(1),g=c(15);a.defaultSelection={clockwise:!0,end:0,gc:0,length:0,name:"",ref:null,seq:"",start:0,tm:0,type:""},a.SelectionContext=r.createContext(a.defaultSelection),a.SelectionContext.displayName="SelectionContext",a.default=function(t){var c;return c=function(c){function o(){var t=null!==c&&c.apply(this,arguments)||this;return t.state=n({},a.defaultSelection),t.previousBase=null,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!1,t.selectionStarted=!1,t.shiftSelection=!1,t.lastClick=Date.now(),t.idToRange=new Map,t.componentDidMount=function(){document&&document.addEventListener("mouseup",t.stopDrag)},t.componentWillUnmount=function(){document&&document.removeEventListener("mouseup",t.stopDrag)},t.stopDrag=function(){t.dragEvent=!1},t.resetCircleDragVars=function(a){t.previousBase=a,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!0},t.inputRef=function(a,c){t.idToRange.set(a,n({ref:a},c))},t.removeMountedBlock=function(a){t.idToRange.delete(a)},t.mouseEvent=function(a){var c=t.props,e=c.Circular,r=c.Linear,g=c.setCentralIndex;if("mousemove"!==a.type&&"mouseup"!==a.type||t.dragEvent){var o=Date.now()-t.lastClick,i=t.dragEvent?t.idToRange.get(a.currentTarget.id):t.idToRange.get(a.target.id)||t.idToRange.get(a.currentTarget.id);if(i){var s=i.direction,l=i.element,u=i.end,f=i.start;switch(i.type){case"ANNOTATION":case"PRIMER":case"FIND":case"TRANSLATION":case"ENZYME":case"HIGHLIGHT":!r&&g&&g("linear",f);var h=(p=!s||1===s)?f:u,d=p?u:f;t.setSelection(n(n(n({},l),i),{clockwise:p,end:d,start:h})),t.dragEvent=!1,t.lastClick=Date.now();break;case"AMINOACID":var p;h=(p=!s||1===s)?f:u,d=p?u:f,o<500&&i.parent&&(i=i.parent,h=p?i.start:i.end,d=p?i.end:i.start),t.setSelection(n(n(n({},l),i),{clockwise:p,end:d,start:h})),t.dragEvent=!1,t.lastClick=Date.now();break;case"SEQ":r?t.linearSeqEvent(a,i):e&&t.circularSeqEvent(a)}}}},t.linearSeqEvent=function(c,e){var r=t.props.selection,g=t.calculateBaseLinear(c,e),o=null!==r.start&&g>=r.start;"mousedown"===c.type&&null!==g?(t.setSelection(n(n({},a.defaultSelection),{clockwise:o,end:g,start:c.shiftKey?r.start:g})),t.dragEvent=!0):t.dragEvent&&null!==g&&t.setSelection(n(n({},a.defaultSelection),{clockwise:o,end:g,start:r.start}))},t.circularSeqEvent=function(c){var e=t.props,r=e.selection,g=e.seq,o=r.start,i=r.clockwise,s=r.end,l=t.calculateBaseCircular(c),u=g.length;if("mousedown"===c.type){var f=c.shiftKey?o:l,h=c.shiftKey?t.calcSelectionLength(f,l,!1):t.calcSelectionLength(f,l,!0);t.selectionStarted=h>0,t.resetCircleDragVars(f),t.setSelection(n(n({},a.defaultSelection),{clockwise:i,end:l,ref:"",start:f}))}else if("mousemove"===c.type&&t.dragEvent&&l&&t.previousBase&&l!==t.previousBase){var d=l>t.previousBase,p=.9*u,m=Math.abs(t.previousBase-l),v=m>p;t.forward=d?!v:v;var y=v?u-m:m,b=t.forward===t.props.selection.clockwise||null===t.props.selection.clockwise;if(b?t.fullSelectionLength+=y:t.fullSelectionLength-=y,t.previousBase=l,t.fullSelectionLength<.01*u&&!t.shiftSelection){i=t.forward;var C=t.calcSelectionLength(t.props.selection.start,l,t.forward);t.fullSelectionLength<0&&(t.fullSelectionLength=C),C>t.fullSelectionLength&&(i=!t.forward),s=l}b=t.forward===t.props.selection.clockwise;var N=t.calcSelectionLength(t.props.selection.start,l,t.props.selection.clockwise);t.selectionStarted&&t.shiftSelection&&N>t.fullSelectionLength&&(t.fullSelectionLength=N);var w=t.dragEvent&&b,x=t.fullSelectionLength>=u;s=w&&x?o:l,t.shiftSelection=!1,t.setSelection(n(n({},a.defaultSelection),{clockwise:i,end:s,start:o}))}},t.calculateBaseLinear=function(a,c){var e=t.props,n=e.bpsPerBlock,r=e.size.width,g=a.currentTarget.getBoundingClientRect(),o=(a.clientX-g.left)/r,i=Math.round(o*n);return Math.min(c.start+i,c.end)},t.calculateBaseCircular=function(a){var c=t.props,e=c.center,n=c.centralIndex,r=c.seq,g=c.yDiff;if(!e)return 0;var o=a.currentTarget.getBoundingClientRect(),i=a.clientX-o.left,s=a.clientY-o.top,l=i-e.x,u=(s-(e.y+g))/l,f=Math.atan(u)*(180/Math.PI)+90;l<0&&(f+=180);var h=f/360,d=Math.round(r.length*h);return(d+=n)>r.length&&(d-=r.length),d},t.setSelection=function(a){var c=t.props.setSelection;if(a.start!==t.props.selection.start||a.end!==t.props.selection.end||a.ref!==t.props.selection.ref||!["SEQ","AMINOACID",""].includes(a.type||"")){var e=n(n({},t.props.selection),a),r=e.clockwise,o=e.element,i=e.end,s=e.name,l=e.ref,u=e.start,f=e.type,h=t.calcSelectionLength(u,i,r),d=t.getSelectedSequence(u,i,r);c({clockwise:r,element:o,end:i,gc:(0,g.calcGC)(d),length:h,name:s,ref:l,seq:d,start:u,tm:(0,g.calcTm)(d),type:f})}},t.getSelectedSequence=function(a,c,e){var n=t.props.seq;return c<a&&!e?n.substring(c,a):c>a&&!e?n.substring(c,n.length)+n.substring(0,a):c>a&&e?n.substring(a,c):c<a&&e?n.substring(a,n.length)+n.substring(0,c):""},t.calcSelectionLength=function(a,c,e){var n=t.props.seq;return c<a&&!e?a-c:c>a&&!e?a+(n.length-c):c>a&&e?c-a:c<a&&e?n.length-a+c:0},t}return e(o,c),o.prototype.render=function(){var a=n(n({},this.props),{inputRef:this.inputRef,mouseEvent:this.mouseEvent,onUnmount:this.removeMountedBlock});return r.createElement(t,n({},a))},o}(r.Component),c.displayName="WithSelectionHandler",c}},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=c(8),g=c(39),o=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.hoverAnnotation=function(t,a){if(document)for(var c=document.getElementsByClassName(t),e=0;e<c.length;e+=1)c[e].style.fillOpacity=a},a}return e(a,t),a.prototype.render=function(){var t=this,a=this.props,c=a.annotations,e=a.lineHeight,o=a.radius,s=a.rowsToSkip,l=o-(2*e+3)-e*s,u=l-e;return n.createElement(g.default.Consumer,null,(function(a){var g=a.circular;return n.createElement("g",{className:"la-vz-circular-annotations"},c.reduce((function(a,c,o){return o&&(l-=e+3,u-=e+3),a.concat(c.map((function(a){return n.createElement(i,{key:"la-vz-".concat(a.id,"-annotation-circular-row"),annotation:a,calcBorderColor:r.darkerColor,centralIndex:g,currBRadius:l,currTRadius:u,genArc:t.props.genArc,getRotation:t.props.getRotation,hoverAnnotation:t.hoverAnnotation,id:"la-vz-".concat(a.id,"-annotation-circular-row"),inlinedAnnotations:t.props.inlinedAnnotations,inputRef:t.props.inputRef,lineHeight:e,seqLength:t.props.seqLength})})))}),[]))}))},a}(n.PureComponent);a.default=o;var i=function(t){var a=t.annotation,c=t.calcBorderColor,e=t.centralIndex,g=t.currBRadius,o=t.currTRadius,i=t.genArc,s=t.getRotation,l=t.hoverAnnotation,u=t.inlinedAnnotations,f=t.inputRef,h=t.lineHeight,d=t.seqLength,p=a.end>=a.start?a.end-a.start:d-a.start+a.end;p=0===p?d-.1:p;var m=s(a.start);if(g<0||o<0)return null;var v=(p/2+a.start+d-e)%d,y=v>.25*d&&v<.75*d,b=i({arrowFWD:1===a.direction,arrowREV:-1===a.direction,innerRadius:g,largeArc:p>d/2,length:p,outerRadius:o,sweepFWD:!0}),C=i({arrowFWD:!1,arrowREV:!1,innerRadius:y?g:o,largeArc:p>d/2,length:p,outerRadius:y?g:o,sweepFWD:!0}),N="la-vz-".concat(a.id,"-circular");return n.createElement("g",{id:"la-vz-".concat(a.id,"-annotation-circular"),transform:m},n.createElement("path",{d:C,fill:"transparent",id:N,stroke:"transparent"}),n.createElement("path",{ref:f(a.id,{direction:a.direction,end:a.end,name:a.name,ref:a.id,start:a.start,type:"ANNOTATION"}),className:a.id,d:b,id:a.id,style:{cursor:"pointer",fill:a.color,fillOpacity:.7,shapeRendering:"geometricPrecision",stroke:a.color?r.COLOR_BORDER_MAP[a.color]||c(a.color):"gray",strokeLinejoin:"round",strokeWidth:.5},onBlur:function(){},onFocus:function(){},onMouseOut:function(){return l(a.id,.7)},onMouseOver:function(){return l(a.id,1)}}),u.includes(a.id)&&n.createElement("text",{dy:-.4*h,id:a.id,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return l(a.id,.7)},onMouseOver:function(){return l(a.id,1)}},n.createElement("textPath",{cursor:"pointer",dominantBaseline:"middle",id:a.id,startOffset:y?"25%":"75%",textAnchor:"middle",xlinkHref:"#".concat(N)},a.name)))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=c(33),g=function(t){var a=t.calculateLinePath,c=t.cutSite,e=t.genArc,g=t.getRotation,o=t.inputRef,i=t.lineHeight,s=t.radius,l=t.seqLength,u=c.id,f=c.start,h=c.end,d=c.fcut,p=c.rcut;f+d>h+p&&(h=f>h?h+l:h,d>p?p+=l:d+=l);var m=Math.abs(h-f),v=s,y=s+.5*i,b=s+i;return l<r.RENDER_SEQ_LENGTH_CUTOFF&&(y+=i+1.5,b+=2*i+1.5),n.createElement("g",{key:"la-vz-circular-cutsite-".concat(u),id:"la-vz-circular-cutsite-".concat(u),transform:g(f)},n.createElement("path",{ref:o(u,{end:h,ref:u,start:f,type:"ENZYME"}),className:"la-vz-cut-site",cursor:"pointer",d:e({innerRadius:v,largeArc:m>l/2,length:m,outerRadius:b,sweepFWD:!0}),style:c.enzyme.color?{fill:c.enzyme.color}:{}}),n.createElement("path",{className:"la-vz-cut-site",d:a(d-f,b,y)}),n.createElement("path",{className:"la-vz-cut-site",d:e({innerRadius:y,largeArc:Math.abs(d-p)>l/2,length:Math.abs(d-p),offset:Math.min(d,p)-f,outerRadius:y,sweepFWD:!0})}),n.createElement("path",{className:"la-vz-cut-site",d:a(p-f,y,v)}))};a.default=function(t){var a=t.cutSites;if(!a.length)return null;var c=function(a,c,e){var n=t.findCoor,r=n(a,c),g=n(a,e);return"M ".concat(g.x," ").concat(g.y," L ").concat(r.x," ").concat(r.y)};return n.createElement("g",{className:"la-vz-circular-cutsites"},a.map((function(a){return n.createElement(g,e({key:"circular-cut-site-".concat(a.id)},t,{calculateLinePath:c,cutSite:a}))})))}},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Find=void 0;var e=c(1),n=c(33);a.Find=function(t){var a=t.genArc,c=t.getRotation,r=t.highlights,g=t.inputRef,o=t.lineHeight,i=t.radius,s=t.search,l=t.seqLength,u=!(l>n.RENDER_SEQ_LENGTH_CUTOFF)||s.length/l<=.02;return e.createElement("g",{className:"la-vz-circular-search"},u&&s.map((function(t){return e.createElement(n.Arc,{key:JSON.stringify(t),className:"la-vz-search",direction:t.direction||1,end:t.end,genArc:a,getRotation:c,inputRef:g,lineHeight:o,radius:i,seqLength:l,start:t.start})})),r.map((function(t){var r=t.color,s=t.end,u=t.start;return e.createElement(n.Arc,{key:"la-vz-highlight-".concat(u,"-").concat(s),className:"la-vz-highlight",color:r,direction:1,end:s,genArc:a,getRotation:c,inputRef:g,lineHeight:o,radius:i,seqLength:l,start:u})})))}},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(39),o=c(33),i=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.state={indexInc:10,ticks:[]},a.renderBasepairs=function(){var t=a.props,c=t.compSeq,e=t.findCoor,g=t.getRotation,o=t.lineHeight,i=t.radius,s=t.seq,l=t.seqLength,u=a.state.indexInc,f=a.context.circular,h=s+s,d=c+c,p=f-5*u,m=f+5*u;f<l/2&&(p+=l,m+=l);for(var v=[],y=p;y<=m;y+=1)v.push(r.createElement("text",n({key:"la-vz-base-".concat(y)},e(0,i+2*o),{dominantBaseline:"middle",transform:g(y)}),h.charAt(y)),r.createElement("text",n({key:"la-vz-base-comp-".concat(y)},e(0,i+o),{dominantBaseline:"middle",transform:g(y)}),d.charAt(y)));return v},a}var c;return e(a,t),a.prototype.render=function(){var t=this.props,a=t.center,c=t.findCoor,e=t.genArc,g=t.getRotation,i=t.lineHeight,s=t.name,l=t.radius,u=t.seq,f=t.seqLength,h=t.showIndex,d=t.size,p=t.totalRows,m=t.yDiff,v=this.state.ticks;if(!h)return null;for(var y=l-p*i,b=[],C=0;C<s.length;)b.push(s.substring(C,C+30).trim()),C+=30;var N=14+20*b.length,w=(b.length?b[0].length/2*12:0)>y?{x:a.x,y:d.height-N-m}:{x:a.x,y:a.y-(b.length-1)/2*25},x=c(0,l),A=c(0,l-10),G={fill:"transparent",stroke:"#73777D",strokeWidth:3},_={fill:"transparent",shapeRendering:"geometricPrecision",stroke:"black",strokeWidth:1},q={fontWeight:300,textAnchor:"middle"},S=e({innerRadius:l,largeArc:!0,length:f/2,outerRadius:l});return r.createElement("g",{className:"la-vz-circular-index"},r.createElement("text",{style:{fontSize:20,fontWeight:500},textAnchor:"middle"},b.map((function(t,a){return r.createElement("tspan",{key:t,x:w.x,y:w.y+25*a},t)}))),r.createElement("text",n({x:w.x,y:w.y+14+25*(b.length-1)},{fill:"gray",fontSize:14,textAnchor:"middle"}),"".concat(f," bp")),u.length<=o.RENDER_SEQ_LENGTH_CUTOFF?r.createElement("g",{className:"la-vz-circular-bps"},this.renderBasepairs()):null,v.map((function(t){return r.createElement("g",{key:"la-vz-tick-".concat(t),transform:g(t-.5)},r.createElement("path",n({d:"M ".concat(x.x," ").concat(x.y,"\n                L ").concat(A.x," ").concat(A.y)},_)),r.createElement("text",n({x:A.x,y:A.y+i},q),t))})),r.createElement("g",null,r.createElement("path",n({d:S,transform:g(.75*f)},G)),r.createElement("path",n({d:S,transform:g(.25*f)},G))))},c=a,a.contextType=g.default,a.getDerivedStateFromProps=function(t){var a=t.seqLength,e=0;c.context&&(e=c.context.circular);for(var n=Math.floor(a/6),r=Math.max(+n.toPrecision(2),10);r%10!==0;)r+=1;for(var g=[],o=0;o<=a-r/2;o+=r)g.push(0===o?1:o);var i=6*r;return{indexInc:r,ticks:g=g.filter((function(t){return Math.abs(e-t)<i||Math.abs(e+a-t)<i||Math.abs(e-a-t)<i}))}},a}(r.PureComponent);a.default=i},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(33),o=c(46),i=function(t){function a(a){var c=t.call(this,a)||this;return c.setHoveredGroup=function(t){t!==c.state.hoveredGroup&&c.setState({hoveredGroup:t})},c.state={hoveredGroup:"",labelGroups:[]},c}return e(a,t),a.prototype.render=function(){var t=this,a=this.state,c=a.hoveredGroup,e=a.labelGroups,g=this.props,i=g.lineHeight,s=g.size,l=e.find((function(t){return t.labels[0].id===c}));return r.createElement("g",{className:"la-vz-circular-labels",onMouseLeave:function(){return t.setHoveredGroup("")}},e.map((function(a){var e=a.labels[0],g=a.forkCoor||a.textCoor,o=r.createElement(r.Fragment,null,r.createElement("path",{className:"la-vz-label-line",d:"M".concat(a.lineCoor.x," ").concat(a.lineCoor.y," L").concat(g.x," ").concat(g.y)}),a.forkCoor&&r.createElement("path",{className:"la-vz-label-line",d:"M".concat(g.x," ").concat(g.y," L").concat(a.textCoor.x," ").concat(a.textCoor.y)}));return a.grouped?e.id===c?null:r.createElement("g",{key:"".concat(e.id,"-listener"),id:"".concat(e.id,"-label")},o,r.createElement("text",n({className:"la-vz-circular-label",dominantBaseline:"middle",id:e.id,textAnchor:a.textAnchor,onMouseEnter:function(){return t.setHoveredGroup(e.id||"")}},a.textCoor),a.name)):r.createElement("g",{key:e.id},o,r.createElement("text",n({className:"la-vz-circular-label",id:e.id},a.textCoor,{dominantBaseline:"middle",textAnchor:a.textAnchor}),a.name))})),l&&r.createElement(o.default,{group:l,lineHeight:i,setHoveredGroup:this.setHoveredGroup,size:s}))},a.getDerivedStateFromProps=function(t,c){return{hoveredGroup:c.hoveredGroup,labelGroups:a.groupOverlappingLabels(t)}},a.groupOverlappingLabels=function(t){var a=t.center,c=t.findCoor,e=t.labels,r=t.lineHeight,o=t.radius,i=t.seqLength,s=t.size,l=t.yDiff,u=i>g.RENDER_SEQ_LENGTH_CUTOFF?2*r:3.5*r,f=o+u,h=e.reduce((function(t,a){return t.concat(a)}),[]).map((function(t){var e;e="enzyme"===t.type?t.start:t.end>t.start?(t.end+t.start)/2:(t.start-i+t.end)/2;var n=i>g.RENDER_SEQ_LENGTH_CUTOFF?o:f-r/2,s=c(e,n,!0),l=c(e,f,!0);return{label:t,lineCoor:s,textAnchor:l.x<=a.x?"end":"start",textCoor:l}})),d=function(t,a){var c=(t.name.length+4)*g.CHAR_WIDTH,e=!1,n=a.y+l;return(n<0||n>s.height||a.x-c<0||a.x+c>s.width)&&(e=!0),e},p=h.reduce((function(t,a){var c=t.findIndex((function(t){return t.textAnchor===a.textAnchor&&Math.abs(t.textCoor.y-a.textCoor.y)<15}));if(c>-1)return t[c].labels.push(a.label),t[c].grouped=!0,t;var e=d(a.label,a.textCoor);return t.concat({forkCoor:null,grouped:e,labels:[a.label],lineCoor:a.lineCoor,name:a.label.name,overflow:e,textAnchor:a.textAnchor,textCoor:a.textCoor})}),[]);return(p=(p=p.reduce((function(t,c,e){if(!c.grouped||c.overflow||c.labels.length>4)return t.concat(c);var r=t[t.length-1],o=p[e+1];r&&r.textAnchor!==c.textAnchor&&(r=void 0),o&&o.textAnchor!==c.textAnchor&&(o=void 0);var i=c.labels.map((function(t,e){var r=e*(3*g.CHAR_WIDTH);"end"===c.textAnchor&&(r=-r);var o=-15*(c.labels.length-e);c.textCoor.y>a.y&&(o=15*(c.labels.length-e));var i={x:c.textCoor.x+r,y:c.textCoor.y+o},s=d(t,i);return n(n({},c),{forkCoor:c.textCoor,grouped:s,labels:[t],overflow:s,textCoor:i})}));return i.some((function(t){return[r,o].some((function(a){return a&&Math.abs(a.textCoor.y-t.textCoor.y)<15}))}))?t.concat(c):t.concat.apply(t,i)}),[])).map((function(t){var a=t.labels[0].name,c=t.labels.length-1;return t.overflow?n(n({},t),{name:"+".concat(c+1)}):t.grouped?n(n({},t),{name:"".concat(a,",+").concat(c)}):n(n({},t),{name:a})}))).map((function(t){var a=t.textCoor,c=a.x,e=a.y;return c=Math.max(g.CHAR_WIDTH*(t.name.length+1),c),c=Math.min(s.width-(t.name.length+1)*g.CHAR_WIDTH,c),e=Math.max(g.CHAR_WIDTH,e),e=Math.min(s.height-g.CHAR_WIDTH-13,e),n(n({},t),{textCoor:{x:c,y:e}})}))},a}(r.Component);a.default=i},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(33),o=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.group,c=t.lineHeight,e=t.setHoveredGroup,o=t.size,i=o.height,s=o.width,l=function(t){return t.reduce((function(t,a){return t+(a.name.length+1)*g.CHAR_WIDTH}),0)},u=function(t){return t[t.length-1]},f=a.labels.reduce((function(t,a){var c=a.name.length*g.CHAR_WIDTH;if(c>s){var e=Math.floor(.75*s/g.CHAR_WIDTH),r=new RegExp(".{1,".concat(e,"}"),"g"),o=a.name.match(r)||[];if(o.length)return o.forEach((function(c){t.push([n(n({},a),{name:c.trim()})])})),t}return u(t)&&l(u(t))+c<=200?(t[t.length-1].push(a),t):(t.push([a]),t)}),[]),h=f.length*c,d=f.reduce((function(t,a,c){return Math.max(t,l(a)-(c===f.length-1?g.CHAR_WIDTH:0))}),0),p=[h,d].map((function(t){return t+2*g.CHAR_WIDTH})),m=p[0],v=p[1],y=a.forkCoor||a.textCoor,b=a.forkCoor?"M".concat(a.textCoor.x," ").concat(a.textCoor.y," L").concat(y.x," ").concat(y.y):"M".concat(a.lineCoor.x," ").concat(a.lineCoor.y," L").concat(y.x," ").concat(y.y),C=a.textCoor,N=C.x,w=C.y;N="end"===a.textAnchor?N-(a.labels[0].name.length+3)*g.CHAR_WIDTH:N,w-=g.CHAR_WIDTH,N=Math.max(N,2*g.CHAR_WIDTH),N=Math.min(N,s-2*g.CHAR_WIDTH-d),w=Math.max(w,2*g.CHAR_WIDTH);var x={x:N,y:w=Math.min(w,i-2*g.CHAR_WIDTH-h)},A={x:N-g.CHAR_WIDTH,y:w-g.CHAR_WIDTH-2},G="".concat(a.labels[0].id,"_overlay");return r.createElement("g",{key:G,onMouseLeave:function(){return e("")}},r.createElement("path",{className:"la-vz-label-line",d:b}),r.createElement("rect",n({fill:"white",height:m,stroke:"none",width:v},A)),r.createElement("text",n({},x),f.map((function(t,a){return r.createElement("tspan",{key:"".concat(G,"_").concat(a),dominantBaseline:"middle",x:x.x,y:x.y+(a+.5)*c},t.map((function(e,n){return r.createElement(r.Fragment,{key:e.id},r.createElement("tspan",{className:"la-vz-circular-label",dominantBaseline:"middle",id:e.id,tabIndex:-1,y:x.y+(a+.5)*c},e.name),n<t.length-1||a!==f.length-1?",":"")})))}))),r.createElement("rect",n({fill:"none",height:m,stroke:"black",strokeWidth:1.5,width:v},A)))},a}(r.Component);a.default=o},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(40),o=c(33),i=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.findCoor,c=t.genArc,e=t.getRotation,g=t.lineHeight,i=t.radius,s=t.seq,l=t.seqLength,u=t.totalRows,f=this.context,h=f.clockwise,d=f.end,p=f.ref,m=f.start,v=0;m===d&&"ALL"===p?v=l:m>d?v=!1!==h?Math.abs(d-m+l):-Math.abs(m-d):m<d&&(v=!1!==h?Math.abs(d-m):-Math.abs(m-d+l)),Math.abs(v)===l&&(v+=v>0?-.1:.1);var y=i+g;s.length<=o.RENDER_SEQ_LENGTH_CUTOFF&&(y+=2*g+3);var b=i-g*u;(b<0||y<0)&&(b=0,y=i);var C=a(0,y),N=a(0,b),w="M ".concat(N.x," ").concat(N.y,"\n\t\t\tL ").concat(C.x," ").concat(C.y),x=!1!==h||"ALL"===p,A=!1;(!1!==h&&v>l/2||!1===h&&Math.abs(v)>l/2)&&(A=!0);var G=2;m===d&&(G=1);var _={fill:"transparent",shapeRendering:"auto",stroke:"black",strokeWidth:G};return r.createElement("g",{className:"la-vz-circular-selection"},v&&r.createElement("path",{className:"la-vz-selection",d:c({innerRadius:b,largeArc:A,length:v,outerRadius:y,sweepFWD:x}),shapeRendering:"auto",stroke:"none",transform:e(m)}),r.createElement("path",n({d:w,transform:e(m)},_)),v&&r.createElement("path",n({d:w,transform:e(d)},_)))},a.contextType=g.SelectionContext,a}(r.PureComponent);a.default=i},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=c(34),g=c(30),o=c(15),i=c(35),s=c(36),l=c(49),u=c(50),f=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.shouldComponentUpdate=function(t){return!(0,g.default)(t,a.props)},a}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.annotations,c=t.bpsPerBlock,e=t.compSeq,g=t.cutSites,s=t.elementHeight,f=t.highlights,h=t.lineHeight,d=t.onUnmount,p=t.search,m=t.seq,v=t.showComplement,y=t.showIndex,b=t.showPrimers,C=t.size,N=t.translations,w=t.zoom,x=this.props.primers,A=(x=(0,r.default)(x,m)).filter((function(t){return 1===t.direction})),G=x.filter((function(t){return-1===t.direction})),_=w.linear>10,q=m.length,S=Math.round(Math.ceil(q/c));S===Number.POSITIVE_INFINITY&&(S=1);for(var I=new Array(S),T=new Array(S),k=new Array(S),E=new Array(S),O=g.length?(0,i.createSingleRows)(g,c,S):new Array(S).fill([]),B=(0,i.createMultiRows)((0,i.stackElements)(function(t){return t.forEach((function(t){0===t.end&&t.start>t.end&&(t.end=q),t.start===q&&t.end<t.start&&(t.start=0)})),t}(a),m.length),c,S),R=b?(0,i.createMultiRows)((0,i.stackElements)(A,m.length),c,S):new Array(S).fill([]),M=b?(0,i.createMultiRows)((0,i.stackElements)(G,m.length),c,S):new Array(S).fill([]),j=p&&p.length?(0,i.createSingleRows)(p,c,S):new Array(S).fill([]),P=(0,i.createSingleRows)(f,c,S),z=N.length?(0,i.createSingleRows)((0,o.createLinearTranslations)(N,m),c,S):new Array(S).fill([]),L=0;L<S;L+=1){var D=(Z=L*c)+c;T[L]=m.substring(Z,D),k[L]=e.substring(Z,D),I[L]=T[L]+String(L);var H=1.1*h;_&&(H+=h,H+=v?h:0),y&&(H+=h),z[L].length&&(H+=z[L].length*s),B[L].length&&(H+=B[L].length*s),O[L].length&&(H+=h),b&&R[L].length&&(H+=3*s*R[L].length),b&&M[L].length&&(H+=3*s*M[L].length),E[L]=H}var W=[],F=0;for(L=0;L<S;L+=1){var Z=L*c;W.push(n.createElement(u.default,{key:I[L],annotationRows:B[L],blockHeight:E[L],bpColors:this.props.bpColors,bpsPerBlock:c,charWidth:this.props.charWidth,compSeq:k[L],cutSiteRows:O[L],elementHeight:s,firstBase:Z,forwardPrimerRows:R[L],fullSeq:m,highlights:P[L],id:I[L],inputRef:this.props.inputRef,lineHeight:h,mouseEvent:this.props.mouseEvent,reversePrimerRows:M[L],searchRows:j[L],selection:this.props.selection,seq:T[L],seqFontSize:this.props.seqFontSize,showComplement:v,showIndex:y,showPrimers:b,size:C,translations:z[L],y:F,zoom:w,zoomed:_,onUnmount:d})),F+=E[L]}return W.length&&n.createElement(l.default,{blockHeights:E,bpsPerBlock:c,seqBlocks:W,size:C,totalHeight:E.reduce((function(t,a){return t+a}),0)})},a}(n.Component);a.default=(0,s.default)(f)},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=c(30),g=c(39),o=function(t){function a(a){var c=t.call(this,a)||this;return c.componentDidMount=function(){c.handleScrollOrResize(),window.addEventListener("resize",c.handleScrollOrResize)},c.componentDidUpdate=function(t,a,e){if(c.scroller){var n=c.props,g=n.seqBlocks,o=n.size,i=c.state,s=i.centralIndex,l=i.visibleBlocks;c.context&&s!==c.context.linear?c.scrollToCentralIndex():(0,r.default)(t.size,o)&&g.length===t.seqBlocks.length?(0,r.default)(a.visibleBlocks,l)&&c.restoreSnapshot(e):c.handleScrollOrResize()}},c.componentWillUnmount=function(){window.removeEventListener("resize",c.handleScrollOrResize)},c.getSnapshotBeforeUpdate=function(t){var a=c.scroller?c.scroller.current.scrollTop:0,e=t.blockHeights,n=0,r=0;do{r+=e[n],n+=1}while(r+e[n]<a&&n<e.length);return{blockIndex:n,blockY:a-r}},c.scrollToCentralIndex=function(){var t=c.props,a=t.blockHeights,e=t.bpsPerBlock,n=t.seqBlocks,g=t.size.height,o=t.totalHeight,i=c.state.visibleBlocks,s=c.scroller.current,l=s.clientHeight,u=s.scrollHeight,f=c.context.linear,h=n.findIndex((function(t){return t.props.firstBase<=f&&t.props.firstBase+e>=f})),d=[];if(u<=l)d=i;else if(h>-1){var p=n[h],m=h>0?a[h-1]:0,v=p.props.y-m,y=v+g;y>o&&(y=o,v=o-g),a.reduce((function(t,a,c){return t>=v&&t<=y&&d.push(c),t+a}),0),c.scroller.current.scrollTop=p.props.y-a[0]/2}(0,r.default)(d,i)||c.setState({centralIndex:f,visibleBlocks:d})},c.restoreSnapshot=function(t){var a=c.props.blockHeights,e=t.blockIndex,n=t.blockY,r=a.slice(0,e).reduce((function(t,a){return t+a}),0)+n;c.scroller.current.scrollTop=r},c.handleScrollOrResize=function(){var t=c.props,a=t.blockHeights,e=t.size.height,n=t.totalHeight,g=c.state.visibleBlocks,o=[],i=0;if(c.scroller&&c.insideDOM){var s=c.scroller.current.getBoundingClientRect().top,l=c.insideDOM.current.getBoundingClientRect().top;i=l-s}i=35-i,i=Math.max(0,i);var u=(i=Math.min(n-e,i))+e;i-=2*a[0],a.reduce((function(t,a,c){return t>=i&&t<=u&&o.push(c),t+a}),0),(0,r.default)(o,g)||c.setState({visibleBlocks:o})},c.incrementScroller=function(t){c.stopIncrementingScroller(),c.timeoutID=setTimeout((function(){c.scroller.current.scrollTop+=t,c.incrementScroller(t)}),5)},c.stopIncrementingScroller=function(){c.timeoutID&&(clearTimeout(c.timeoutID),c.timeoutID=null)},c.handleMouseOver=function(t){if(1===t.buttons){var a=c.scroller.current.getBoundingClientRect(),e=(t.clientY-a.top)/a.height;if(e>.9){var n=(e=Math.min(1,e))-.9,r=15*(n*=10);c.incrementScroller(r)}else e<.1?(r=-15*(n=10*(e=.1-Math.max(0,e))),c.incrementScroller(r)):c.stopIncrementingScroller()}else c.timeoutID&&c.stopIncrementingScroller()},c.state={centralIndex:0,visibleBlocks:new Array(Math.min(5,a.seqBlocks.length)).fill(null).map((function(t,a){return a}))},c.scroller=n.createRef(),c.insideDOM=n.createRef(),c}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.blockHeights,c=t.seqBlocks,e=t.size.width,r=t.totalHeight,g=this.state.visibleBlocks,o=g[0],i=a.slice(0,o).reduce((function(t,a){return t+a}),0);return n.createElement("div",{ref:this.scroller,className:"la-vz-linear-scroller",onFocus:function(){},onMouseOver:this.handleMouseOver,onScroll:this.handleScrollOrResize},n.createElement("div",{ref:this.insideDOM,className:"la-vz-seqblock-container",style:{height:r}},n.createElement("div",{style:{height:i,width:e||0}}),g.map((function(t){return c[t]}))))},a.contextType=g.default,a}(n.PureComponent);a.default=o},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(51),o=c(52),i=c(53),s=c(54),l=c(55),u=c(56),f=c(57),h=c(58),d=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.componentWillUnmount=function(){var t=a.props,c=t.id;(0,t.onUnmount)(c)},a.findXAndWidthElement=function(t,c,e){var n,r,g,o,i=a.props,s=i.bpsPerBlock,l=i.firstBase,u=i.fullSeq,f=l+i.seq.length,h=c.end,d=c.start,p=a.findXAndWidth(d,h),m=p.width,v=p.x,y=d<l,b=h>f||d===h&&u.length>s;return e.reduce((function(t,a){return a.id===c.id?t+1:t}),0)>1?e.findIndex((function(t){return t.id===c.id}))===t?(m=(n=a.findXAndWidth(l,h)).width,v=n.x,y=!0,b=!1):(m=(r=a.findXAndWidth(d,f)).width,v=r.x,y=!1,b=!0):d>h?(m=(g=a.findXAndWidth(d>f?l:Math.max(l,d),h<l?f:Math.min(f,h))).width,v=g.x,d>l&&(y=!0,b=h>f),h<l&&(y=d<l,b=!0)):d===h&&(m=(o=a.findXAndWidth(d,h+u.length)).width,v=o.x),{overflowLeft:y,overflowRight:b,width:m,x:v}},a.findXAndWidth=function(t,c){void 0===t&&(t=0),void 0===c&&(c=0);var e=a.props,n=e.bpsPerBlock,r=e.charWidth,g=e.firstBase,o=e.fullSeq.length,i=e.size;t|=0,c|=0;var s=Math.min(g+n,o),l=o>=n,u=0;t>=g&&(u=(t-g)*r+1,u=Math.max(u,0)||0);var f=i.width;if(t===c)f=0;else if(t>=g||c<s){var h=Math.max(t,g),d=Math.min(c,s);f=i.width*((d-h)/n),f=Math.abs(f)||0}else g+n>o&&l&&(f=i.width*(o%n/n));return{width:f,x:u}},a.seqTextSpan=function(t,c){var e,n=a.props,g=n.bpColors,o=n.charWidth,i=n.firstBase,s=n.id;return g&&(e=g[t]||g[t.toUpperCase()]||g[t.toLowerCase()]||g[c+i]||void 0),r.createElement("tspan",{key:c+t+s,fill:e||void 0,x:o*c+.2*o},t)},a}return e(a,t),a.prototype.render=function(){var t=this,a=this.props,c=a.annotationRows,e=a.blockHeight,d=a.bpsPerBlock,p=a.charWidth,m=a.compSeq,v=a.cutSiteRows,y=a.elementHeight,b=a.firstBase,C=a.forwardPrimerRows,N=a.fullSeq,w=a.highlights,x=a.id,A=a.inputRef,G=a.lineHeight,_=a.mouseEvent,q=a.onUnmount,S=a.reversePrimerRows,I=a.searchRows,T=a.selection,k=a.seq,E=a.seqFontSize,O=a.showComplement,B=a.showIndex,R=a.showPrimers,M=a.size,j=a.translations,P=a.zoom,z=a.zoomed;if(!M.width||!M.height)return null;var L={dominantBaseline:"hanging",fontSize:E,lengthAdjust:"spacing",textAnchor:"start",textLength:M.width>=0?M.width:1,textRendering:"optimizeLegibility"},D=b+k.length,H={element:this,end:D,ref:x,start:b,type:"SEQ"},W=R&&C.length?3*y*C.length:0,F=z&&v.length?0+W:W,Z=z&&v.length?G:0,X=F+Z,U=G,Y=X+U,V=z&&O?G:0,K=Y+V,Q=R&&S.length?3*y*S.length:0,J=K+Q,$=y*j.length,tt=J+$,at=y*c.length,ct=c.length+j.length+S.length?3:0,et=tt+at+ct,nt=W+Z+U+V+Q+$+at+ct+5,rt=nt+9;return!z&&nt<=y&&(rt+=G),r.createElement("svg",{ref:A(x,H),className:"la-vz-seqblock",cursor:"text",display:"block",height:e,id:x,width:M.width>=0?M.width:0,onMouseDown:_,onMouseMove:_,onMouseUp:_},B&&r.createElement(l.default,{charWidth:p,findXAndWidth:this.findXAndWidth,firstBase:b,lastBase:D,seq:k,showIndex:B,size:M,transform:"translate(0, ".concat(et,")"),zoom:P}),r.createElement(f.default.Block,{findXAndWidth:this.findXAndWidth,firstBase:b,fullSeq:N,inputRef:A,lastBase:D,selectHeight:nt,selection:T,onUnmount:q}),r.createElement(s.default,{compYDiff:Y-3,findXAndWidth:this.findXAndWidthElement,firstBase:b,highlights:w,indexYDiff:X-3,inputRef:A,lastBase:D,lineHeight:G,listenerOnly:!1,seqBlockRef:this}),r.createElement(f.default.Edges,{findXAndWidth:this.findXAndWidth,firstBase:b,fullSeq:N,lastBase:D,selectEdgeHeight:rt,zoom:P.linear}),r.createElement(i.default,{compYDiff:Y,filteredRows:O?I:I.filter((function(t){return 1===t.direction})),findXAndWidth:this.findXAndWidth,firstBase:b,indexYDiff:X,inputRef:A,lastBase:D,listenerOnly:!1,seqBlockRef:this}),r.createElement(h.default,n({},this.props,{findXAndWidth:this.findXAndWidth,firstBase:b,lastBase:D,seqBlockRef:this,yDiff:J})),r.createElement(g.default,{annotationRows:c,bpsPerBlock:d,elementHeight:y,findXAndWidth:this.findXAndWidthElement,firstBase:b,fullSeq:N,inputRef:A,lastBase:D,seqBlockRef:this,width:M.width,yDiff:tt}),R&&r.createElement(u.default,{charWidth:p,direction:1,elementHeight:y,findXAndWidth:this.findXAndWidth,firstBase:b,fontSize:E,forwardPrimerRows:C,fullSeq:N,inputRef:A,lastBase:D,reversePrimerRows:C,seqBlockRef:this,showPrimers:R,yDiff:0,zoomed:z,onUnmount:q}),R&&r.createElement(u.default,{charWidth:p,direction:-1,elementHeight:y,findXAndWidth:this.findXAndWidth,firstBase:b,fontSize:E,forwardPrimerRows:C,fullSeq:N,inputRef:A,lastBase:D,reversePrimerRows:C,seqBlockRef:this,showPrimers:R,yDiff:K,zoomed:z,onUnmount:q}),z&&r.createElement(o.default,{charWidth:p,cutSites:v,elementHeight:y,findXAndWidth:this.findXAndWidth,firstBase:b,inputRef:A,lastBase:D,lineHeight:G,yDiff:F-3,zoom:P}),z?r.createElement("text",n({},L,{id:x,y:X}),k.split("").map((function(a,c){return t.seqTextSpan(a,c)}))):null,m&&z&&O?r.createElement("text",n({},L,{id:x,y:Y}),m.split("").map((function(a,c){return t.seqTextSpan(a,c)}))):null,r.createElement(i.default,{compYDiff:Y,filteredRows:O?I:I.filter((function(t){return 1===t.direction})),findXAndWidth:this.findXAndWidth,firstBase:b,indexYDiff:X,inputRef:A,lastBase:D,listenerOnly:!0,seqBlockRef:this}),r.createElement(s.default,{compYDiff:Y-3,findXAndWidth:this.findXAndWidthElement,firstBase:b,highlights:w,indexYDiff:X-3,inputRef:A,lastBase:D,lineHeight:G,listenerOnly:!0,seqBlockRef:this}))},a.defaultProps={},a}(r.PureComponent);a.default=d},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.SingleNamedElement=void 0;var n=c(1),r=c(8),g=function(t,a){if(document)for(var c=document.getElementsByClassName(t),e=0;e<c.length;e+=1)c[e].style.fillOpacity="".concat(a)};a.default=function(t){return n.createElement("g",{className:"la-vz-linear-annotations"},t.annotationRows.map((function(a,c){return n.createElement(o,{key:"annotation-linear-row-".concat(a[0].id,"-").concat(t.firstBase,"-").concat(t.lastBase),annotations:a,bpsPerBlock:t.bpsPerBlock,findXAndWidth:t.findXAndWidth,firstBase:t.firstBase,fullSeq:t.fullSeq,height:t.elementHeight,inputRef:t.inputRef,lastBase:t.lastBase,seqBlockRef:t.seqBlockRef,width:t.width,y:t.yDiff+t.elementHeight*c})})))};var o=function(t){return n.createElement("g",{className:"la-vz-linear-annotation-row",height:.8*t.height,transform:"translate(0, ".concat(t.y,")"),width:t.width},t.annotations.map((function(c,r){return n.createElement(a.SingleNamedElement,e({},t,{key:"annotation-linear-".concat(c.id,"-").concat(r,"-").concat(t.firstBase,"-").concat(t.lastBase),element:c,elements:t.annotations,index:r}))})))};a.SingleNamedElement=function(t){var a=t.element,c=t.elements,e=t.findXAndWidth,o=t.firstBase,i=t.index,s=t.inputRef,l=t.lastBase,u=t.seqBlockRef,f=a.color,h=a.direction,d=a.end,p=a.name,m=a.start,v=1===h,y=-1===h,b=e(i,a,c),C=b.overflowLeft,N=b.overflowRight,w=b.width,x=b.x,A=m>d&&d<o,G=v&&d>o&&d<=l,_=y&&m>=o&&m<=l,q=.8*t.height,S=q/4,I=[x,w],T=I[0],k=I[1],E=_?"M ".concat(8," 0"):"M 0 0",O="L ".concat(G?w-8:w," 0"),B="",R="L ".concat(w," ").concat(q);N&&w>8||A?R="\n        L ".concat(w-4," ").concat(S,"\n        L ").concat(w," ").concat(2*S,"\n        L ").concat(w-4," ").concat(3*S,"\n        L ").concat(w," ").concat(4*S):G&&(R="\n        L ".concat(w," ").concat(q/2,"\n        L ").concat(w-Math.min(8,k)," ").concat(q));var M="L 0 ".concat(q," L 0 0");C&&w>8?M="\n        L 0 ".concat(q,"\n        L ").concat(4," ").concat(3*S,"\n        L 0 ").concat(2*S,"\n        L ").concat(4," ").concat(S,"\n        L 0 0"):_&&(M="\n        L ".concat(Math.min(8,k)," ").concat(q,"\n        L 0 ").concat(q/2,"\n        L ").concat(Math.min(8,k)," 0")),B="".concat(E," ").concat(O," ").concat(R," ").concat(M),v&&N||v&&A?w>15&&(B+="\n        M ".concat(w-12," ").concat(S,"\n        L ").concat(w-8," ").concat(2*S,"\n        L ").concat(w-12," ").concat(3*S,"\n        M ").concat(w-16," ").concat(S,"\n        L ").concat(w-12," ").concat(2*S,"\n        L ").concat(w-16," ").concat(3*S)):(y&&C||y&&A)&&w>15&&(B+="\n        M ".concat(12," ").concat(3*S,"\n        L ").concat(8," ").concat(2*S,"\n        L ").concat(12," ").concat(S,"\n        M ").concat(16," ").concat(3*S,"\n        L ").concat(12," ").concat(2*S,"\n        L ").concat(16," ").concat(S));var j=6.75*p.length<w-15;return n.createElement("g",{id:a.id,transform:"translate(".concat(T,", ").concat(.1*q,")")},n.createElement("path",{ref:s(a.id,{element:u,end:d,name:a.name,ref:a.id,start:m,type:"ANNOTATION"}),className:a.id,d:B,id:a.id,shapeRendering:"geometricPrecision",style:{cursor:"pointer",fill:f,fillOpacity:.7,stroke:f?r.COLOR_BORDER_MAP[f]||(0,r.darkerColor)(f):"gray",strokeWidth:.5},onBlur:function(){return 0},onFocus:function(){return 0},onMouseOut:function(){return g(a.id,.7)},onMouseOver:function(){return g(a.id,1)}}),j&&n.createElement("text",{cursor:"pointer",dominantBaseline:"middle",fontSize:11,id:a.id,style:{color:"black",fontWeight:400},textAnchor:"middle",textRendering:"optimizeLegibility",x:w/2,y:q/2+1,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return g(a.id,.7)},onMouseOver:function(){return g(a.id,1)}},p))}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=function(t,a){if(void 0===a&&(a=!1),document){for(var c=document.getElementsByClassName("".concat(t,"-name")),e=0;e<c.length;e+=1)c[e].style.fillOpacity=a?1:.8;for(c=document.getElementsByClassName(t),e=0;e<c.length;e+=1)c[e].style.fillOpacity=a?.5:0}};a.default=function(t){var a=t.findXAndWidth,c=t.firstBase,g=t.inputRef,o=t.lastBase,i=t.lineHeight,s=t.yDiff,l=t.zoom.linear,u=t.cutSites,f=(u=u.filter((function(t){return t.end>t.start}))).map((function(t){var n,r,g=a(t.fcut,t.fcut).x,i=a(t.rcut,t.rcut).x,s=a(t.start,t.end),l=s.width,u=s.x;return function(t,a,c,e){return t<c&&a<c||t>e&&a>e||(a>=t?a<e&&t>c:t<e&&a>c)}(t.start,t.end,c,o)&&(t.start>t.end?(l=(n=a(t.end<c?o:Math.min(o,t.end),t.start>o?c:Math.max(c,t.start))).width,u=n.x):(l=(r=a(t.start<c?o:Math.min(o,t.start),t.end>o?c:Math.max(c,t.end))).width,u=r.x)),e(e({},t),{cutX:g,hangX:i,highlight:{color:t.enzyme.color,width:Math.max(0,l),x:u}})}));if(!f.length)return null;var h=s+i;return n.createElement("g",{className:"la-vz-cut-sites"},f.map((function(t){var e=t.fcut>c&&t.fcut<o;(t.fcut===c&&t.rcut>c&&t.rcut<=o||t.fcut===o&&t.rcut>=c&&t.rcut<=o)&&(e=!0);var u=t.rcut>c&&t.rcut<o;(t.rcut===c&&t.fcut>c&&t.fcut<=o||t.rcut===o&&t.fcut>=c&&t.fcut<=o)&&(u=!0);var f=e||u,d=function(t,e,n){return e&&n?{width:Math.abs(t.hangX-t.cutX),x:Math.min(t.cutX,t.hangX)}:e?t.start+t.cutX>t.end+t.hangX||t.fcut>t.rcut?a(c,t.fcut):a(t.fcut,o):n?t.start+t.cutX>t.end+t.hangX||t.fcut>t.rcut?a(t.rcut,o):a(c,t.rcut):{width:0,x:0}}(t,e,u).x;return n.createElement(n.Fragment,{key:"cut-site-".concat(t.id,"-").concat(c)},e&&n.createElement("text",{className:"la-vz-cut-site-text",dominantBaseline:"hanging",id:t.id,textAnchor:"start",x:t.cutX,y:s,onBlur:function(){return 0},onFocus:function(){return 0},onMouseOut:function(){return r(t.id,!1)},onMouseOver:function(){return r(t.id,!0)}},t.enzyme.name),e&&n.createElement("path",{className:"la-vz-cut-site",d:"M ".concat(t.cutX," ").concat(h," L ").concat(t.cutX," ").concat(h+i)}),f&&l>10&&n.createElement("path",{className:"la-vz-cut-site",d:"M ".concat(d," ").concat(h+i," L ").concat(t.hangX," ").concat(h+i)}),u&&l>10&&n.createElement("path",{className:"la-vz-cut-site",d:"M ".concat(t.hangX," ").concat(h+i," L ").concat(t.hangX," ").concat(h+2*i)}),l>10&&n.createElement("path",{ref:g(t.id,{element:null,end:t.end,id:t.id,start:t.start,type:"ENZYME"}),className:"la-vz-cut-site",d:"M ".concat(t.highlight.x," ").concat(h,"\n                    L ").concat(t.highlight.x+t.highlight.width," ").concat(h,"\n                    L ").concat(t.highlight.x+t.highlight.width," ").concat(h+2*i,"\n                    L ").concat(t.highlight.x," ").concat(h+2*i," Z"),style:t.enzyme.color?{fill:t.enzyme.color}:{}}))})))}},(t,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=c(1),n=c(12);a.default=function(t){var a=t.compYDiff,c=t.filteredRows,n=t.findXAndWidth,g=t.firstBase,o=t.indexYDiff,i=t.inputRef,s=t.lastBase,l=t.listenerOnly,u=t.seqBlockRef;return e.createElement(e.Fragment,null,c.map((function(t){return e.createElement(r,{key:JSON.stringify(t),compYDiff:a,direction:t.direction||1,end:t.end,findXAndWidth:n,firstBase:g,indexYDiff:o,inputRef:i,lastBase:s,listenerOnly:l,seqBlockRef:u,start:t.start})})))};var r=function(t){var a,c=t.compYDiff,r=t.direction,g=t.end,o=t.findXAndWidth,i=t.firstBase,s=t.indexYDiff,l=t.inputRef,u=t.lastBase,f=t.listenerOnly,h=t.seqBlockRef,d=t.start,p=o(d,g),m=p.width,v=p.x;d>g&&(m=(a=o(d>u?i:Math.max(i,d),g<i?u:Math.min(u,g))).width,v=a.x);var y=(0,n.default)(),b=s-1;return r<0&&(b=c-1),e.createElement("rect",{key:y,ref:l(y,{element:h,end:g,id:y,start:d,type:"FIND"}),className:"la-vz-search",cursor:"pointer",height:18,id:y,shapeRendering:"crispEdges",stroke:f?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:f?{fill:"transparent"}:{},width:m,x:v,y:b})}},function(t,a,c){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var n=c(1);a.default=function(t){return n.createElement(n.Fragment,null,t.highlights.map((function(a,c){return n.createElement(r,e({key:"linear-highlight-".concat(a.id,"-").concat(t.listenerOnly)},t,{highlight:a,index:c}))})))};var r=function(t){var a=t.findXAndWidth(t.index,t.highlight,t.highlights),c=a.width,r=a.x,g={};t.listenerOnly?g={fill:"transparent"}:t.highlight.color&&(g={fill:t.highlight.color});var o={className:"la-vz-highlight",cursor:"pointer",height:t.lineHeight,id:t.highlight.id,stroke:t.listenerOnly?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:g,width:c,x:r};return n.createElement(n.Fragment,null,n.createElement("rect",e({key:"linear-highlight-".concat(t.highlight.id,"-top"),ref:t.inputRef(t.highlight.id,e(e({element:t.highlight,ref:t.highlight.id},t.highlight),{type:"HIGHLIGHT"}))},o,{y:t.indexYDiff})),n.createElement("rect",e({key:"linear-highlight-".concat(t.highlight.id,"-bottom"),ref:t.inputRef(t.highlight.id,e(e({element:t.highlight,ref:t.highlight.id},t.highlight),{type:"HIGHLIGHT"}))},o,{y:t.compYDiff})))}},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.genTicks=function(){var t=a.props,c=t.charWidth,e=t.findXAndWidth,r=t.firstBase,g=t.seq,o=t.size,i=t.zoom,s=g.length,l=0;switch(!0){case i.linear>85:l=5;break;case i.linear>40:l=10;break;case i.linear>10:l=20;break;case i.linear>=0:l=50;break;default:l=10}var u=[];0===r&&u.push(1);for(var f=0;(f+r)%l!==0;)f+=1;for(;f<s;)f+r!==0&&u.push(f+r),f+=l;var h={height:8,width:1};return u.map((function(t){var a=e(t-1,t-1).x;a+=c/2;var r=Math.ceil(Math.log10(t+1)),g=7.7*(r-=1),i=e(t-1,t-1).x;i+=c/2,i-=g/2+2,i=Math.max(0,i),i=Math.min(o.width-g/2,i);var s="translate(".concat(a,", 1)"),l="translate(".concat(i,", 10)");return n.createElement(n.Fragment,{key:t},n.createElement("rect",{fill:"#A3A3A3",style:h,transform:s}),n.createElement("text",{style:{dominantBaseline:"hanging",fontSize:11,textRendering:"optimizeLegibility"},transform:l},t))}))},a}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.findXAndWidth,c=t.firstBase,e=t.lastBase,r=t.showIndex,g=t.transform;if(!r)return null;var o=a(c,e).width;return n.createElement("g",{className:"la-vz-linear-index",transform:g},n.createElement("rect",{fill:"#B0B9C2",style:{height:1,shapeRendering:"crispEdges",width:o}}),this.genTicks())},a}(n.PureComponent);a.default=r},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(12),o=c(15),i=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.renderPrimer=function(t){var c,e,i=a.props,s=i.charWidth,l=i.findXAndWidth,u=i.firstBase,f=i.fontSize,h=i.fullSeq,d=i.inputRef,p=i.lastBase,m=i.seqBlockRef,v=i.zoomed,y=(0,g.default)(),b=t.direction,C=t.end,N=void 0===C?0:C,w=t.id,x=t.sequence,A=t.start,G=void 0===A?0:A,_=N<G?h.length-G+N:N-G,q=l(G,N),S=q.width,I=q.x,T=1===b&&N>u&&N<=p,k=-1===b&&G>u&&G<=p,E=G<u,O=N>p||G===N,B=function(){return!E&&O?"TOP":E&&!O?"BOTTOM":E&&O?"MIDDLE":"WHOLE"},R=G>N,M=R&&p>G,j=R&&p<G;R?(c=l(G>p?u:Math.max(u,G),N<u?p:Math.min(p,N)),S=c.width,I=c.x,j&&(E=!0,O=N>p),M&&(E=G<u,O=!0)):G===N&&(e=l(G,N+h.length),S=e.width,I=e.x);var P=a.props.height,z={cursor:"pointer",dominantBaseline:"middle",lengthAdjust:"spacing",style:{color:"black",fontWeight:150},textRendering:"optimizeLegibility"},L=(P*=.4)/4,D=[I,S],H=D[0],W=D[1],F=t.mismatches,Z=[],X=1===b,U=X?x:(0,o.reverse)(x);F&&F.length>0&&F.forEach((function(t){var a=t.end-t.start;U=X?U.substring(0,t.start)+" ".repeat(a)+U.substring(t.end):(0,o.reverse)((0,o.reverse)(U).substring(0,t.start)+" ".repeat(a)+(0,o.reverse)(U).substring(t.end))}));var Y=T?"L ".concat(W-8," 0\n      l -10 -10\n      l 8 0\n      l 10 10"):"L ".concat(S," 0"),V="L ".concat(W," ").concat(P);O&&W>40?V="\n\t\t\t\tL ".concat(W-4," ").concat(L,"\n\t\t\t\tL ").concat(W," ").concat(2*L,"\n\t\t\t\tL ").concat(W-4," ").concat(3*L,"\n\t\t\t\tL ").concat(W," ").concat(4*L):T&&(V="\n        L ".concat(W," ").concat(P));var K="L 0 ".concat(P," L 0 0");E&&W>40?K="\n\t\t\t\tL 0 ".concat(P,"\n\t\t\t\tL ").concat(4," ").concat(3*L,"\n\t\t\t\tL 0 ").concat(2*L,"\n\t\t\t\tL ").concat(4," ").concat(L,"\n\t\t\t\tL 0 0"):k&&(K="\n        L ".concat(W," ").concat(P,"\n        l ").concat(8-W," 0\n        l 10 10\n        l -8 0\n        l -10 -10\n        l 0 ").concat(0-P,"\n        "));var Q=function(t){return t.end-t.start},J=function(t){return j?X?t.end-(h.length-G)>u&&t.start-(h.length-G)<u:N-t.start-Q(t)<u&&N-t.end+Q(t)>u:X?G+t.end>u&&G+t.start<u:G+(_-t.end)<u&&G+(_-t.start)>u},$=function(t){return j?X?t.end-(h.length-G)>p&&t.start-(h.length-G)<p:N-t.start-Q(t)<p&&N-t.end+Q(t)>p:X?G+t.end>p&&G+t.start<p:G+(_-t.end)<p&&G+(_-t.start)>p},tt=function(t){return J(t)?"LEFT":$(t)?"RIGHT":"NONE"},at=function(t){return t*s},ct=function(t){return t.map((function(t){var a=t,c=function(t){var a=t.start,c=t.end,e="",n="";if(X){var r=G+a,g=G+c;j&&(r=a-(h.length-G),g=c-(h.length-G));var i=u-r,s=p-g;switch(tt(t)){case"LEFT":e=x.substring(a+i,c);break;case"RIGHT":e=x.substring(a,c+s);break;default:e=x.substring(a,c)}var l=e.length,f=Q(t)-l;n="LEFT"===tt(t)?"M 0 0\n            m ".concat(at(u-r-f)," 0\n            l 0 ").concat(0-P,"\n            l ").concat(at(l)," 0\n            l 0 ").concat(P):"TOP"===B()?"M 0 0\n              m ".concat(at(a)," 0\n              l 0 ").concat(0-P,"\n              l ").concat(at(l)," 0\n              l 0 ").concat(P):"M 0 0\n              m ".concat(at(r-u)," 0\n              l 0 ").concat(0-P,"\n              l ").concat(at(l)," 0\n              l 0 ").concat(P)}else if(!X){switch(r=N-a,g=N-c,M&&(r=G+(_-a),g=G+(_-c)),i=u-g,s=p-r,tt(t)){case"LEFT":e=(0,o.reverse)(x.substring(c-i,a));break;case"RIGHT":e=(0,o.reverse)(x.substring(c,a-s));break;default:e=(0,o.reverse)(x.substring(c,a))}l=e.length,f=Q(t)-l,n="RIGHT"===tt(t)?"M 0 ".concat(P,"\n            m ").concat(S-at(r-p-f)," 0\n            l 0 ").concat(P,"\n            l ").concat(0-at(l)," 0\n            l 0 ").concat(0-P):"BOTTOM"===B()?"M 0 ".concat(P,"\n              m ").concat(at(U.length-a)," 0\n              l 0 ").concat(P,"\n              l ").concat(0-at(l)," 0\n              l 0 ").concat(0-P):"M 0 ".concat(P,"\n              m ").concat(S-at(p-r)," 0\n              l 0 ").concat(P,"\n              l ").concat(0-at(l)," 0\n              l 0 ").concat(0-P)}return{mismatchName:e,mismatchPath:n}}(t),e=c.mismatchName,n=c.mismatchPath;return Z.push(n),a.name=e,a}))};"TOP"===B()?M?(U=U.substring(0,p-G),F&&F.length>0&&(F=ct(F=X?F.filter((function(t){return t.start-(h.length-G)<p})):F.filter((function(t){return _-t.end-(h.length-G)<p}))))):(U=U.substring(0,p-G),F&&F.length>0&&(F=ct(F=X?F.filter((function(t){return G+t.start<p})):F.filter((function(t){return G+(_-t.end)<p}))))):"MIDDLE"===B()?(j?(U=U.substring(h.length-G+u,h.length-G+u+(p-u)),F&&F.length>0&&(F=X?F.filter((function(t){return t.end-(h.length-G)>u&&t.start-(h.length-G)<p})):F.filter((function(t){return _-t.start-(h.length-G)>u&&_-t.end-(h.length-G)<p})))):(U=U.substring(u-G,u-G+p-u),F&&F.length>0&&(F=X?F.filter((function(t){return G+t.end>u&&G+t.start<p})):F.filter((function(t){return G+(_-t.start)>u&&G+(_-t.end)<p})))),F=ct(F)):"BOTTOM"===B()?(j?(U=U.substring(h.length-G+u),F&&F.length>0&&(F=X?F.filter((function(t){return t.end-(h.length-G)>u})):F.filter((function(t){return _-t.start-(h.length-G)>u})))):(U=U.substring(u-G),F&&F.length>0&&(F=X?F.filter((function(t){return G+t.end>u})):F.filter((function(t){return G+(_-t.start)>u})))),F=ct(F)):F=F&&F.length>0?F.map((function(t){var a=t;return a.name=x.substring(t.start,t.end),X?Z.push("M 0 0\n              m ".concat(at(t.start)," 0\n              l 0 ").concat(0-P,"\n              l ").concat(at(Q(t))," 0\n              l 0 ").concat(P)):X||(a.name=(0,o.reverse)(x.substring(t.end,t.start)),Z.push("M 0 ".concat(P,"\n              m ").concat(at(U.length-t.start)," 0\n              l 0 ").concat(P,"\n              l ").concat(at(0-Q(t))," 0\n              l 0 ").concat(0-P))),a})):[];var et=Z.join(" "),nt="".concat("M 0 0"," ").concat(Y," ").concat(V," ").concat(K," ").concat(et),rt=r.createElement("path",n({ref:d("".concat(w),{element:m,end:N,ref:"".concat(w),start:G,type:"PRIMER"}),className:w,id:w,style:{cursor:"pointer",fillOpacity:.1,stroke:"#1b1d21",strokeWidth:.5}},{shapeRendering:"geometricPrecision"},{d:nt,onBlur:function(){return 0},onFocus:function(){return 0},onMouseOut:function(){return a.hoverOtherPrimerRows("".concat(w),.1)},onMouseOver:function(){return a.hoverOtherPrimerRows("".concat(w),.2)}})),gt=function(t){var a=J(t),c=$(t);return X?"BOTTOM"===B()||"MIDDLE"===B()?j&&X?a?0:at(t.start-(h.length-G)-u):at(a?t.start-u+G+(Q(t)-t.name.length):t.start-u+G):at(t.start):"TOP"===B()||"MIDDLE"===B()?j?a?0:c?S-at(t.end+p-N):X?at(t.start-(h.length-G)-u):S-at(t.end+p-N-(Q(t)-t.name.length)):M?a?S-at(p-(G+(_-t.start))+t.name.length):S-at(p-(G+(_-t.start))+Q(t)):c?S-at(t.end+p-N):S-at(t.end+p-N-(Q(t)-t.name.length)):S-at(t.end-(Q(t)-t.name.length))};return r.createElement("g",{key:"".concat(w,"_").concat(y,"-primer"),id:w,transform:"translate(".concat(H,", 0)")},r.createElement("text",n({key:"".concat(w,"_").concat(y,"-primer"),fontSize:f,textAnchor:"middle",x:S/2,y:P/2+1.4},z,{id:w,textLength:S,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return a.hoverOtherPrimerRows(w,.1)},onMouseOver:function(){return a.hoverOtherPrimerRows(w,.2)}}),v?"".concat(U):""),",",F&&F.map((function(t){return r.createElement("text",n({key:"mismatch_text_".concat(w,"_").concat(y),fontSize:f,textAnchor:"left",x:gt(t),y:X?0-P/2:3*P/2+1.4},z,{id:w,textLength:at(t.name.length)}),v?"".concat(t.name):"")})),",",rt)},a}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.primers,c=t.y,e="translate(0, ".concat(c-5,")");return r.createElement("g",{className:"linear-primer-row",transform:e},a.map(this.renderPrimer))},a}(r.PureComponent),s=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.render=function(){var t=this.props,a=t.charWidth,c=t.direction,e=t.findXAndWidth,n=t.firstBase,o=t.fontSize,s=t.forwardPrimerRows,l=t.fullSeq,u=t.inputRef,f=t.lastBase,h=t.onUnmount,d=t.reversePrimerRows,p=t.seqBlockRef,m=t.showPrimers,v=t.yDiff,y=t.zoomed,b=this.props.elementHeight;if(b*=3,!m)return null;var C=1===c?s:d;return r.createElement("g",{className:"la-vs-linear-primers"},C.map((function(t,C){var N=(0,g.default)(),w=v+C*b;return 1===c&&(w+=.35*b),r.createElement(i,{key:"".concat(N,"-primer-linear-row"),charWidth:a,direction:c,elementHeight:b,findXAndWidth:e,firstBase:n,fontSize:o,forwardPrimerRows:s,fullSeq:l,height:b,id:N,inputRef:u,lastBase:f,primers:t,reversePrimerRows:d,seqBlockRef:p,showPrimers:m,y:w,yDiff:v,zoomed:y,onUnmount:h})})))},a}(r.PureComponent);a.default=s},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var a,c=1,e=arguments.length;c<e;c++)for(var n in a=arguments[c])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t},n.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var r=c(1),g=c(12),o=c(40),i=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.id=(0,g.default)(),a}return e(a,t),a.prototype.render=function(){var t,a=this.props,c=a.findXAndWidth,e=a.firstBase,g=a.fullSeq,o=a.lastBase,i=a.selectEdgeHeight,s=a.zoom,l=this.context,u=l.clockwise,f=l.end,h=l.ref,d=l.start,p=null,m=null;if(u?(d>=e&&d<o&&(p=d),f>e&&f<=o&&(m=f)):(d>e&&d<=o&&(p=d),f>=e&&f<o&&(m=f)),("ALL"===h||0===d&&f===g.length-1)&&(p=null,m=null),null===p&&null===m)return null;null===p&&(p=m,m=null);var v=c(p,m),y=v.width,b=v.x;!1===u&&null!==p&&null!==m&&(y=(t=c(m,p)).width,b=t.x);var C=b+y;if(null!==p&&null!==m&&(d>f&&!0===u||f>d&&!1===u)&&(C=b-y),d===f&&d===o)return null;if(null===p&&null===m)return null;var N={height:i,shapeRendering:"crispEdges",style:{fill:"black",width:d!==f&&s>60?2:1},y:-5};return r.createElement("g",{className:"la-vz-linear-sel-edges"},null!==p&&r.createElement("rect",n({},N,{x:b})),null!==m&&r.createElement("rect",n({},N,{x:C})))},a.contextType=o.SelectionContext,a}(r.PureComponent),s=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.id=(0,g.default)(),a}return e(a,t),a.prototype.render=function(){var t,a,c,e,g,o,i,s=this.props,l=s.findXAndWidth,u=s.firstBase,f=s.fullSeq,h=s.lastBase,d=s.selectHeight,p=this.context,m=p.clockwise,v=p.ref,y=this.context,b=y.end,C=y.start;if(C===b&&"ALL"!==v)return null;("ALL"===v||0===C&&b===f.length)&&(C=0,b=0);var N={className:"la-vz-selection",height:d,shapeRendering:"auto",y:-5},w=null,x=null,A=null;if(m&&b>C)C<=h&&b>u&&(x=(t=l(Math.max(u,C),Math.min(h,b))).width,w=t.x);else if(m&&C>b){if(!(C>h&&b<u))if(C<h&&b>u){var G=l(C,h),_=G.width,q=G.x;A=r.createElement("rect",n({},N,{width:_,x:q})),x=(a=l(u,b)).width,w=a.x}else x=(c=l(C>h?u:Math.max(u,C),b<u?h:Math.min(h,b))).width,w=c.x}else if(!m&&C>b)b<=h&&C>=u&&(x=(e=l(Math.max(u,b),Math.min(h,C))).width,w=e.x);else if(!m&&b>C&&(C>u||b<h))if(C>u&&C<h&&b>u){var S=l(b,h);_=S.width,q=S.x,A=r.createElement("rect",n({},N,{width:_,x:q})),x=(g=l(u,C)).width,w=g.x}else x=(o=l(C<u?b:u,b>h?C:h)).width,w=o.x;return"ALL"!==v&&C!==b||(x=(i=l(Math.max(u,0),Math.min(h,f.length+1))).width,w=i.x),w||x?r.createElement(r.Fragment,null,r.createElement("rect",n({},N,{width:x?x+1:void 0,x:w||void 0})),A):null},a.contextType=o.SelectionContext,a}(r.PureComponent);a.default={Block:s,Edges:i}},function(t,a,c){"use strict";var e=this&&this.__extends||function(){var t=function(a,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},t(a,c)};return function(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function e(){this.constructor=a}t(a,c),a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(a,"__esModule",{value:!0});var n=c(1),r=c(8),g=c(12),o=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.AAs=[],a.componentWillUnmount=function(){var t=a.props.onUnmount;a.AAs.forEach((function(a){return t(a)}))},a.genPath=function(t,c){var e=a.props,n=e.charWidth,r=e.height,g=t*n,o=3*c;return"M 0 0\n\t\t\tL ".concat(g," 0\n\t\t\tL ").concat(g+o," ").concat(r/2,"\n\t\t\tL ").concat(g," ").concat(r,"\n\t\t\tL 0 ").concat(r,"\n\t\t\tL ").concat(o," ").concat(r/2,"\n\t\t\tZ")},a}return e(a,t),a.prototype.render=function(){var t=this,a=this.props,c=a.bpsPerBlock,e=a.charWidth,o=a.findXAndWidth,i=a.firstBase,s=a.fullSeq,l=a.height,u=a.inputRef,f=a.lastBase,h=a.seqBlockRef,d=a.translation,p=a.y,m=d.AAseq,v=d.direction,y=d.end,b=d.id,C=d.start,N={element:h,end:y,name:"translation",start:C,type:"TRANSLATION"},w=m.split("");return n.createElement("g",{ref:u(b,N),id:b,transform:"translate(0, ".concat(p,")")},w.map((function(a,d){var p=(0,g.default)();t.AAs.push(p);var m=(C+3*d)%s.length,y=C+3*d+3,b={element:h,end:y,name:"aminoacid",parent:N,start:m,type:"AMINOACID"};if(m>y&&i>=c?y+=s.length:m>y&&i<c?m-=s.length:0===m&&i>=c&&(m+=s.length,y+=s.length),m>f||y<i)return null;var w=!0,x=3;m<i?(x=Math.min(3,y-i))<2&&(w=!1):y>f&&(x=Math.min(3,f-m))<2&&(w=!1);var A=o(Math.max(m,i)).x,G=t.genPath(x,1===v?1:-1);return n.createElement("g",{key:p,ref:u(p,b),id:p,transform:"translate(".concat(A,", 0)")},n.createElement("path",{d:G,fill:(0,r.colorByIndex)(a.charCodeAt(0)),id:p,shapeRendering:"geometricPrecision",stroke:(0,r.borderColorByIndex)(a.charCodeAt(0)),style:{cursor:"pointer",opacity:.7,strokeWidth:.8}}),w&&n.createElement("text",{cursor:"pointer",dominantBaseline:"middle",id:p,style:{color:"black",fontSize:13,fontWeight:400},textAnchor:"middle",x:1.5*e,y:"".concat(l/2+1)},a))})))},a}(n.Component);a.default=function(t){var a=t.bpsPerBlock,c=t.charWidth,e=t.elementHeight,r=t.findXAndWidth,g=t.firstBase,i=t.fullSeq,s=t.inputRef,l=t.lastBase,u=t.onUnmount,f=t.seqBlockRef,h=t.translations,d=t.yDiff;return n.createElement("g",{className:"la-vz-linear-translations"},h.map((function(t,h){return n.createElement(o,{key:"".concat(t.id,"-").concat(g),bpsPerBlock:a,charWidth:c,findXAndWidth:r,firstBase:g,fullSeq:i,height:.9*e,id:t.id,inputRef:s,lastBase:l,seqBlockRef:f,translation:t,y:d+e*h,onUnmount:u})})))}},(t,a,c)=>{"use strict";c.r(a),c.d(a,{default:()=>b});var e=c(60),n=c.n(e),r=c(61),g=c.n(r),o=c(62),i=c.n(o),s=c(63),l=c.n(s),u=c(64),f=c.n(u),h=c(65),d=c.n(h),p=c(66),m=c.n(p),v={};for(const C in p)"default"!==C&&(v[C]=()=>p[C]);c.d(a,v);var y={};y.styleTagTransform=d(),y.setAttributes=l(),y.insert=i().bind(null,"head"),y.domAPI=g(),y.insertStyleElement=f(),n()(m(),y);const b=m()&&m().locals?m().locals:void 0},t=>{"use strict";var a=[];function c(t){for(var c=-1,e=0;e<a.length;e++)if(a[e].identifier===t){c=e;break}return c}function e(t,e){for(var r={},g=[],o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],l=r[s]||0,u="".concat(s," ").concat(l);r[s]=l+1;var f=c(u),h={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==f)a[f].references++,a[f].updater(h);else{var d=n(h,e);e.byIndex=o,a.splice(o,0,{identifier:u,updater:d,references:1})}g.push(u)}return g}function n(t,a){var c=a.domAPI(a);return c.update(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap&&a.supports===t.supports&&a.layer===t.layer)return;c.update(t=a)}else c.remove()}}t.exports=function(t,n){var r=e(t=t||[],n=n||{});return function(t){t=t||[];for(var g=0;g<r.length;g++){var o=c(r[g]);a[o].references--}for(var i=e(t,n),s=0;s<r.length;s++){var l=c(r[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}r=i}}},t=>{"use strict";t.exports=function(t){var a=t.insertStyleElement(t);return{update:function(c){!function(t,a,c){var e="";c.supports&&(e+="@supports (".concat(c.supports,") {")),c.media&&(e+="@media ".concat(c.media," {"));var n="undefined"!==typeof c.layer;n&&(e+="@layer".concat(c.layer.length>0?" ".concat(c.layer):""," {")),e+=c.css,n&&(e+="}"),c.media&&(e+="}"),c.supports&&(e+="}");var r=c.sourceMap;r&&"undefined"!==typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),a.styleTagTransform(e,t,a.options)}(a,t,c)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)}}}},t=>{"use strict";var a={};t.exports=function(t,c){var e=function(t){if("undefined"===typeof a[t]){var c=document.querySelector(t);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch(e){c=null}a[t]=c}return a[t]}(t);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(c)}},(t,a,c)=>{"use strict";t.exports=function(t){var a=c.nc;a&&t.setAttribute("nonce",a)}},t=>{"use strict";t.exports=function(t){var a=document.createElement("style");return t.setAttributes(a,t.attributes),t.insert(a,t.options),a}},t=>{"use strict";t.exports=function(t,a){if(a.styleSheet)a.styleSheet.cssText=t;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(t))}}},(t,a,c)=>{(a=c(67)(!1)).push([t.id,"@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500&display=swap);"]),a.push([t.id,"/* Shared/common settings */\n.la-vz-seqviz {\n  height: 100%;\n  width: 100%;\n\n  display: flex;\n  flex-direction: row;\n}\n\n.la-vz-seqviz svg {\n  overflow: visible;\n}\n\n.la-vz-seqviz svg text {\n  user-select: none;\n  fill: #2a2a2a;\n  font-family: Roboto Mono, Monaco, monospace;\n}\n\n.la-vz-seqviz svg text:selection {\n  background: none;\n}\n\n.la-vz-viewer-container {\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n\n.la-vz-viewer-event-router {\n  position: absolute;\n  outline: none;\n  height: 100%;\n  width: inherit;\n}\n\n.la-vz-search {\n  fill: rgba(255, 251, 7, 0.5);\n}\n\n.la-vz-highlight {\n  fill: rgba(255, 251, 7, 0.25);\n}\n\n.la-vz-selection {\n  fill: #def6ff;\n}\n\n.la-vz-cut-site {\n  fill: transparent;\n  stroke: black;\n  stroke-width: 1;\n  shape-rendering: auto;\n}\n\n.la-vz-cut-site-text {\n  font-size: 13px;\n  cursor: pointer;\n}\n\n/* Circular Viewer */\n.la-vz-circular-viewer {\n  margin: auto;\n  font-size: 13px;\n  font-weight: 300;\n}\n\n.la-vz-circular-bps {\n  cursor: text;\n}\n\n.la-vz-circular-label {\n  cursor: pointer;\n}\n\n.la-vz-circular-label:hover {\n  text-decoration: underline;\n}\n\n.la-vz-label-line {\n  stroke: #9eaab8;\n  stroke-width: 1;\n  fill: none;\n}\n\n/* Linear Viewer */\n.la-vz-linear-scroller {\n  height: 100%;\n\n  outline: none !important;\n  position: relative;\n  font-weight: 300;\n  padding: 10px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  cursor: text;\n}\n\n.la-vz-seqblock-container {\n  width: 100%;\n}\n\n.la-vz-seqblock {\n  width: 100%;\n  padding: 0;\n  overflow: visible;\n}\n\n.la-vz-scroll::-webkit-scrollbar {\n  width: 7px;\n}\n\n.la-vz-scroll::-webkit-scrollbar-thumb {\n  background-clip: padding-box;\n  border-radius: 7px;\n  background-color: #a6a6a6;\n}\n\n.la-vz-scroll::-webkit-scrollbar-track {\n  border-radius: 20px;\n}\n\n.la-vz-scroll::-webkit-scrollbar-track-piece {\n  background-clip: padding-box;\n  border-radius: 7px;\n  background-color: #ececec;\n}\n",""]),t.exports=a},t=>{"use strict";t.exports=function(t){var a=[];return a.toString=function(){return this.map((function(a){var c=function(t,a){var c=t[1]||"",e=t[3];if(!e)return c;if(a&&"function"===typeof btoa){var n=function(t){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a);return"/*# ".concat(c," */")}(e),r=e.sources.map((function(t){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(t," */")}));return[c].concat(r).concat([n]).join("\n")}return[c].join("\n")}(a,t);return a[2]?"@media ".concat(a[2]," {").concat(c,"}"):c})).join("")},a.i=function(t,c,e){"string"===typeof t&&(t=[[null,t,""]]);var n={};if(e)for(var r=0;r<this.length;r++){var g=this[r][0];null!=g&&(n[g]=!0)}for(var o=0;o<t.length;o++){var i=[].concat(t[o]);e&&n[i[0]]||(c&&(i[2]?i[2]="".concat(c," and ").concat(i[2]):i[2]=c),a.push(i))}},a}}],a={};function e(c){var n=a[c];if(void 0!==n)return n.exports;var r=a[c]={id:c,exports:{}};return t[c].call(r.exports,r,r.exports,e),r.exports}return e.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a:a}),a},e.d=(t,a)=>{for(var c in a)e.o(a,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:a[c]})},e.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),e.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.nc=void 0,e(0)})(),t.exports=e()}}]);